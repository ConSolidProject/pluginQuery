(self.webpackChunkprojectquery=self.webpackChunkprojectquery||[]).push([[1147],{31327:(e,t,r)=>{"use strict";var i=r(2222),n=r(26547),o=Buffer.from&&Buffer.from!==Uint8Array.from;function s(e,t){return"string"==typeof e?t==e:e&&"function"==typeof e.exec?e.exec(t):"boolean"==typeof e||"object"==typeof e?e:"function"==typeof e&&e(t)}t.parse=function(e,t){var r,a,l=new i,d=n((function(e){"string"==typeof e&&(e=o?Buffer.from(e):new Buffer(e)),l.write(e)}),(function(e){e&&d.write(e),r&&d.emit("header",r),a&&d.emit("footer",a),d.queue(null)}));return"string"==typeof e&&(e=e.split(".").map((function(e){return"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e)}))),e&&e.length||(e=null),l.onValue=function(i){if(this.root||(d.root=i),e){for(var n=0,o=0,a=!1,l=!1;n<e.length;){var f,c=e[n];if(o++,c&&!c.recurse){if(!(f=o===this.stack.length?this:this.stack[o]))return;if(!s(c,f.key))return void u(f.key,i);a=!!c.emitKey,l=!!c.emitPath,n++}else{n++;var h=e[n];if(!h)return;for(;;){if(!(f=o===this.stack.length?this:this.stack[o]))return;if(s(h,f.key)){n++,Object.isFrozen(this.stack[o])||(this.stack[o].value=null);break}u(f.key,i),o++}}}if(r&&(d.emit("header",r),r=!1),o===this.stack.length){var p=this.stack.slice(1).map((function(e){return e.key})).concat([this.key]),g=i;for(var y in null!=g&&null!=(g=t?t(g,p):g)&&((a||l)&&(g={value:g},a&&(g.key=this.key),l&&(g.path=p)),d.queue(g)),this.value&&delete this.value[this.key],this.stack)Object.isFrozen(this.stack[y])||(this.stack[y].value=null)}}},l._onToken=l.onToken,l.onToken=function(t,r){l._onToken(t,r),0===this.stack.length&&d.root&&(e||d.queue(d.root),d.root=null)},l.onError=function(e){e.message.indexOf("at position")>-1&&(e.message="Invalid JSON ("+e.message+")"),d.emit("error",e)},d;function u(e,t){!1!==r&&((r=r||{})[e]=t),!1!==a&&!1===r&&((a=a||{})[e]=t)}},t.stringify=function(e,t,r,i){i=i||0,!1===e?(e="",t="\n",r=""):null==e&&(e="[\n",t="\n,\n",r="\n]\n");var o,s=!0,a=!1;return o=n((function(r){a=!0;try{var n=JSON.stringify(r,null,i)}catch(e){return o.emit("error",e)}s?(s=!1,o.queue(e+n)):o.queue(t+n)}),(function(t){a||o.queue(e),o.queue(r),o.queue(null)}))},t.stringifyObject=function(e,t,r,i){i=i||0,!1===e?(e="",t="\n",r=""):null==e&&(e="{\n",t="\n,\n",r="\n}\n");var o=!0,s=!1;return n((function(r){s=!0;var n=JSON.stringify(r[0])+":"+JSON.stringify(r[1],null,i);o?(o=!1,this.queue(e+n)):this.queue(t+n)}),(function(t){s||this.queue(e),this.queue(r),this.queue(null)}))}},95456:e=>{"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce(((t,r,i)=>t+(0===i?"":",")+e(void 0===r||"symbol"==typeof r?null:r)),"")+"]":"{"+Object.keys(t).sort().reduce(((r,i,n)=>void 0===t[i]||"symbol"==typeof t[i]?r:r+(0===r.length?"":",")+e(i)+":"+e(t[i])),"")+"}"}},31905:function(){!function(e){!function(t){var r="URLSearchParams"in e,i="Symbol"in e&&"iterator"in Symbol,n="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,s="ArrayBuffer"in e;if(s)var a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&a.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function f(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return i&&(t[Symbol.iterator]=function(){return t}),t}function c(e){this.map={},e instanceof c?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function p(e){return new Promise((function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}}))}function g(e){var t=new FileReader,r=p(t);return t.readAsArrayBuffer(e),r}function y(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:n&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:r&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():s&&n&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=y(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):s&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=y(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},n&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(g)}),this.text=function(){var e,t,r,i=h(this);if(i)return i;if(this._bodyBlob)return e=this._bodyBlob,r=p(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),i=0;i<t.length;i++)r[i]=String.fromCharCode(t[i]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(m)}),this.json=function(){return this.text().then(JSON.parse)},this}c.prototype.append=function(e,t){e=d(e),t=u(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},c.prototype.delete=function(e){delete this.map[d(e)]},c.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},c.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},c.prototype.set=function(e,t){this.map[d(e)]=u(t)},c.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},c.prototype.keys=function(){var e=[];return this.forEach((function(t,r){e.push(r)})),f(e)},c.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),f(e)},c.prototype.entries=function(){var e=[];return this.forEach((function(t,r){e.push([r,t])})),f(e)},i&&(c.prototype[Symbol.iterator]=c.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(e,t){var r,i,n=(t=t||{}).body;if(e instanceof I){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new c(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new c(t.headers)),this.method=(i=(r=t.method||this.method||"GET").toUpperCase(),w.indexOf(i)>-1?i:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function m(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var r=e.split("="),i=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(n))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new c(t.headers),this.url=t.url||"",this._initBody(e)}I.prototype.clone=function(){return new I(this,{body:this._bodyInit})},E.call(I.prototype),E.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new c(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var R=[301,302,303,307,308];_.redirect=function(e,t){if(-1===R.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function O(e,r){return new Promise((function(i,o){var s=new I(e,r);if(s.signal&&s.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var a=new XMLHttpRequest;function l(){a.abort()}a.onload=function(){var e,t,r={status:a.status,statusText:a.statusText,headers:(e=a.getAllResponseHeaders()||"",t=new c,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var r=e.split(":"),i=r.shift().trim();if(i){var n=r.join(":").trim();t.append(i,n)}})),t)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var n="response"in a?a.response:a.responseText;i(new _(n,r))},a.onerror=function(){o(new TypeError("Network request failed"))},a.ontimeout=function(){o(new TypeError("Network request failed"))},a.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},a.open(s.method,s.url,!0),"include"===s.credentials?a.withCredentials=!0:"omit"===s.credentials&&(a.withCredentials=!1),"responseType"in a&&n&&(a.responseType="blob"),s.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),s.signal&&(s.signal.addEventListener("abort",l),a.onreadystatechange=function(){4===a.readyState&&s.signal.removeEventListener("abort",l)}),a.send(void 0===s._bodyInit?null:s._bodyInit)}))}O.polyfill=!0,e.fetch||(e.fetch=O,e.Headers=c,e.Request=I,e.Response=_),t.Headers=c,t.Request=I,t.Response=_,t.fetch=O,Object.defineProperty(t,"__esModule",{value:!0})}({})}("undefined"!=typeof self?self:this)},12475:e=>{"use strict";var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,i=/\s|\uFEFF|\xA0/,n=/\r?\n[\x20\x09]+/g,o=/[;,"]/,s=/[;,"]|\s/,a=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/;function l(e){return e.replace(r,"")}function d(e){return i.test(e)}function u(e,t){for(;d(e[t]);)t++;return t}function f(e){return s.test(e)||!a.test(e)}class c{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),i=0;i<this.refs.length;i++)this.refs[i].rel.toLowerCase()===r&&t.push(this.refs[i]);return t}get(e,t){e=e.toLowerCase();for(var r=[],i=0;i<this.refs.length;i++)this.refs[i][e]===t&&r.push(this.refs[i]);return r}set(e){return this.refs.push(e),this}has(e,t){e=e.toLowerCase();for(var r=0;r<this.refs.length;r++)if(this.refs[r][e]===t)return!0;return!1}parse(e,t){for(var r=1,i=(e=l(e=(t=t||0)?e.slice(t):e).replace(n,"")).length,s=(t=0,null);t<i;)if(1===r){if(d(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=s&&(null!=s.rel?this.refs.push(...c.expandRelations(s)):this.refs.push(s)),-1===(h=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);s={uri:e.slice(t+1,h)},t=h,r=2,t++}else if(2===r){if(d(e[t])){t++;continue}if(";"===e[t])r=4,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=1,t++}}else{if(4!==r)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||d(e[t])){t++;continue}if(-1===(h=e.indexOf("=",t)))throw new Error("Expected attribute delimiter at offset "+t);var a=l(e.slice(t,h)).toLowerCase(),f="";if('"'===e[t=u(e,t=h+1)])for(t++;t<i;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,f+=e[t],t++}else{for(var h=t+1;!o.test(e[h])&&h<i;)h++;f=e.slice(t,h),t=h}switch(s[a]&&c.isSingleOccurenceAttr(a)||("*"===a[a.length-1]?s[a]=c.parseExtendedValue(f):(f="type"===a?f.toLowerCase():f,null!=s[a]?Array.isArray(s[a])?s[a].push(f):s[a]=[s[a],f]:s[a]=f)),e[t]){case",":r=1;break;case";":r=4}t++}return null!=s&&(null!=s.rel?this.refs.push(...c.expandRelations(s)):this.refs.push(s)),s=null,this}toString(){for(var e=[],t="",r=null,i=0;i<this.refs.length;i++)r=this.refs[i],t=Object.keys(this.refs[i]).reduce((function(e,t){return"uri"===t?e:e+"; "+c.formatAttribute(t,r[t])}),"<"+r.uri+">"),e.push(t);return e.join(", ")}}c.isCompatibleEncoding=function(e){return t.test(e)},c.parse=function(e,t){return(new c).parse(e,t)},c.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},c.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},c.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},c.expandRelations=function(e){return e.rel.split(" ").map((function(t){var r=Object.assign({},e);return r.rel=t,r}))},c.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']+)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:c.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:c.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},c.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(Buffer.isBuffer(t.value)&&c.isCompatibleEncoding(r)?t.value.toString(r):Buffer.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},c.formatAttribute=function(e,t){return Array.isArray(t)?t.map((t=>c.formatAttribute(e,t))).join("; "):"*"===e[e.length-1]||"string"!=typeof t?c.formatExtendedAttribute(e,t):(c.isTokenAttr(e)?t=f(t)?'"'+c.escapeQuotes(t)+'"':c.escapeQuotes(t):f(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=c},11288:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(98931),t),n(r(87011),t),n(r(97378),t),n(r(91891),t),n(r(29e3),t),n(r(35656),t),n(r(24990),t)},98931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.ContextParser=void 0,r(31905);const i=r(68912),n=r(87011),o=r(97378),s=r(35656),a=r(24990),l=r(95456);class d{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new o.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!=typeof e)throw new n.ErrorCoded(`The value of an '@language' must be a string, got '${JSON.stringify(e)}'`,r);if(!a.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new n.ErrorCoded(`The value of an '@language' must be a valid language tag, got '${JSON.stringify(e)}'`,r);return!1}return!0}static validateDirection(e,t){if("string"!=typeof e)throw new n.ErrorCoded(`The value of an '@direction' must be a string, got '${JSON.stringify(e)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);if(!a.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new n.ErrorCoded(`The value of an '@direction' must be 'ltr' or 'rtl', got '${JSON.stringify(e)}'`,n.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"==typeof r&&r["@reverse"]&&!r["@id"]){if("string"!=typeof r["@reverse"]||a.Util.isValidKeyword(r["@reverse"]))throw new n.ErrorCoded(`Invalid @reverse value, must be absolute IRI or blank node: '${r["@reverse"]}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);r["@id"]=r["@reverse"],a.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t){const r=e.getContextRaw();for(const i of Object.keys(r))if(a.Util.EXPAND_KEYS_BLACKLIST.indexOf(i)<0&&!a.Util.isReservedInternalKeyword(i)){const o=r[i];if(a.Util.isPotentialKeyword(i)&&a.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(i)>=0&&("@type"!==i||"object"==typeof r[i]&&!r[i]["@protected"]&&"@set"!==r[i]["@container"]))throw new n.ErrorCoded(`Keywords can not be aliased to something else.\nTried mapping ${i} to ${JSON.stringify(o)}`,n.ERROR_CODES.KEYWORD_REDEFINITION);if(a.Util.ALIAS_RANGE_BLACKLIST.indexOf(a.Util.getContextValueId(o))>=0)throw new n.ErrorCoded(`Aliasing to certain keywords is not allowed.\nTried mapping ${i} to ${JSON.stringify(o)}`,n.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(o&&a.Util.isPotentialKeyword(a.Util.getContextValueId(o))&&!0===o["@prefix"])throw new n.ErrorCoded(`Tried to use keyword aliases as prefix: '${i}': '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);for(;a.Util.isPrefixValue(r[i]);){const n=r[i];let o=!1;if("string"==typeof n)r[i]=e.expandTerm(n,!0),o=o||n!==r[i];else{const s=n["@id"],l=n["@type"],d=!("@prefix"in n)||a.Util.isValidIri(i);if("@id"in n)null!=s&&"string"==typeof s&&(r[i]["@id"]=e.expandTerm(s,!0),o=o||s!==r[i]["@id"]);else if(!a.Util.isPotentialKeyword(i)&&d){const t=e.expandTerm(i,!0);t!==i&&(r[i]["@id"]=t,o=!0)}!l||"string"!=typeof l||"@vocab"===l||n["@container"]&&n["@container"]["@type"]||!d||(r[i]["@type"]=e.expandTerm(l,!0),t&&l===r[i]["@type"]&&(r[i]["@type"]=e.expandTerm(l,!1)),o=o||l!==r[i]["@type"])}if(!o)break}}}normalize(e,{processingMode:t,normalizeLanguageTags:r}){if(r||1===t)for(const t of Object.keys(e))if("@language"===t&&"string"==typeof e[t])e[t]=e[t].toLowerCase();else{const r=e[t];r&&"object"==typeof r&&"string"==typeof r["@language"]&&(r["@language"]=r["@language"].toLowerCase())}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"==typeof r)if("string"==typeof r["@container"])r["@container"]={[r["@container"]]:!0};else if(Array.isArray(r["@container"])){const e={};for(const t of r["@container"])e[t]=!0;r["@container"]=e}}}applyScopedProtected(e,{processingMode:t}){if(t&&t>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!a.Util.isReservedInternalKeyword(t)&&!a.Util.isPotentialKeyword(t)&&!a.Util.isTermProtected(e,t)){const r=e[t];r&&"object"==typeof r?"@protected"in e[t]||(e[t]["@protected"]=!0):e[t]={"@id":r,"@protected":!0}}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r){for(const i of Object.keys(t))if(a.Util.isTermProtected(e,i)){if("string"==typeof t[i]){const n=a.Util.isSimpleTermDefinitionPrefix(t[i],r);t[i]={"@id":t[i]},n&&(t[i]["@prefix"]=!0,e[i]["@prefix"]=!0)}const o=l(e[i]);if(t[i]["@protected"]=!0,o!==l(t[i]))throw new n.ErrorCoded(`Attempted to override the protected keyword ${i} from ${JSON.stringify(a.Util.getContextValueId(e[i]))} to ${JSON.stringify(a.Util.getContextValueId(t[i]))}`,n.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}}validate(e,{processingMode:t}){for(const r of Object.keys(e)){if(a.Util.isReservedInternalKeyword(r))continue;if(""===r)throw new n.ErrorCoded(`The empty term is not allowed, got: '${r}': '${JSON.stringify(e[r])}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);const i=e[r],o=typeof i;if(a.Util.isPotentialKeyword(r)){switch(r.substr(1)){case"vocab":if(null!==i&&"string"!==o)throw new n.ErrorCoded(`Found an invalid @vocab IRI: ${i}`,n.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==i&&"string"!==o)throw new n.ErrorCoded(`Found an invalid @base IRI: ${e[r]}`,n.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==i&&d.validateLanguage(i,!0,n.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==i&&"number"!==o)throw new n.ErrorCoded(`Found an invalid @version number: ${i}`,n.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==i&&d.validateDirection(i,!0);break;case"propagate":if(1===t)throw new n.ErrorCoded(`Found an illegal @propagate keyword: ${i}`,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==i&&"boolean"!==o)throw new n.ErrorCoded(`Found an invalid @propagate value: ${i}`,n.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(a.Util.isValidKeyword(r)&&a.Util.isValidKeyword(a.Util.getContextValueId(i)))throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${a.Util.getContextValueId(i)}'`,n.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==i)switch(o){case"string":if(a.Util.getPrefix(i,e)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===i)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${i}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(i)&&i!==new s.JsonLdContextNormalized(e).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${i}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!(a.Util.isCompactIri(r)||"@id"in i||("@id"===i["@type"]?e["@base"]:e["@vocab"])))throw new n.ErrorCoded(`Missing @id in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);for(const l of Object.keys(i)){const u=i[l];if(u)switch(l){case"@id":if(a.Util.isValidKeyword(u)&&"@type"!==u&&"@id"!==u&&"@graph"!==u)throw new n.ErrorCoded(`Illegal keyword alias in term value, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIriWeak(r)){if("@type"===u)throw new n.ErrorCoded(`IRIs can not be mapped to @type, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.isValidIri(u)&&u!==new s.JsonLdContextNormalized(e).expandTerm(r))throw new n.ErrorCoded(`IRIs can not be mapped to other IRIs, found: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!=typeof u)throw new n.ErrorCoded(`Detected non-string @id in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_IRI_MAPPING);if(a.Util.getPrefix(u,e)===r)throw new n.ErrorCoded(`Detected cyclical IRI mapping in context entry: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===i["@container"]&&"@id"!==u&&"@vocab"!==u)throw new n.ErrorCoded(`@container: @type only allows @type: @id or @vocab, but got: '${r}': '${u}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!=typeof u)throw new n.ErrorCoded(`The value of an '@type' must be a string, got '${JSON.stringify(o)}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);if(!("@id"===u||"@vocab"===u||1!==t&&"@json"===u||1!==t&&"@none"===u||"_"!==u[0]&&a.Util.isValidIri(u)))throw new n.ErrorCoded(`A context @type must be an absolute IRI, found: '${r}': '${u}'`,n.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"==typeof u&&i["@id"]&&i["@id"]!==u)throw new n.ErrorCoded(`Found non-matching @id and @reverse term values in '${r}':'${u}' and '${i["@id"]}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in i)throw new n.ErrorCoded(`@nest is not allowed in the reverse property '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===t&&(Object.keys(u).length>1||a.Util.CONTAINERS_1_0.indexOf(Object.keys(u)[0])<0))throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${Object.keys(u)}') in 1.0, must be only one of ${a.Util.CONTAINERS_1_0.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(u)){if("@list"===e&&i["@reverse"])throw new n.ErrorCoded(`Term value can not be @container: @list and @reverse at the same time on '${r}'`,n.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(a.Util.CONTAINERS.indexOf(e)<0)throw new n.ErrorCoded(`Invalid term @container for '${r}' ('${e}'), must be one of ${a.Util.CONTAINERS.join(", ")}`,n.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":d.validateLanguage(u,!0,n.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":d.validateDirection(u,!0);break;case"@prefix":if(null!==u&&"boolean"!=typeof u)throw new n.ErrorCoded(`Found an invalid term @prefix boolean in: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in i)&&!a.Util.isValidIri(r))throw new n.ErrorCoded(`Invalid @prefix definition for '${r}' ('${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===t||!i["@container"]||!i["@container"]["@index"])throw new n.ErrorCoded(`Attempt to add illegal key to value object: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(a.Util.isPotentialKeyword(u)&&"@nest"!==u)throw new n.ErrorCoded(`Found an invalid term @nest value in: '${r}': '${JSON.stringify(i)}'`,n.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new n.ErrorCoded(`Found an invalid term value: '${r}': '${i}'`,n.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"==typeof e||(r&&!("@base"in e)&&t.parentContext&&"object"==typeof t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!=typeof e["@base"]||a.Util.isValidIri(e["@base"])||(e["@base"]=i.resolve(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!a.Util.isValidIri(e)&&(e=i.resolve(e,t),!a.Util.isValidIri(e)))throw new Error(`Invalid context IRI: ${e}`);return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,t){for(const r of Object.keys(e)){const i=e[r];if(i&&"object"==typeof i&&"@context"in i&&null!==i["@context"]&&!t.ignoreScopedContexts){if(this.validateContext)try{const n=Object.assign({},e);n[r]=Object.assign({},n[r]),delete n[r]["@context"],await this.parse(i["@context"],Object.assign(Object.assign({},t),{parentContext:n,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(e){throw new n.ErrorCoded(e.message,n.ERROR_CODES.INVALID_SCOPED_CONTEXT)}i["@context"]=(await this.parse(i["@context"],Object.assign(Object.assign({},t),{minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()}}return e}async parse(e,r={processingMode:d.DEFAULT_PROCESSING_MODE}){const{baseIRI:i,parentContext:o,external:l,processingMode:u,normalizeLanguageTags:f,ignoreProtection:c,minimalProcessing:h}=r;let p=o;const g=r.remoteContexts||{};if(Object.keys(g).length>=this.remoteContextsDepthLimit)throw new n.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(g),n.ERROR_CODES.CONTEXT_OVERFLOW);if(null==e){if(!c&&p&&a.Util.hasProtectedTerms(p))throw new n.ErrorCoded("Illegal context nullification when terms are protected",n.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new s.JsonLdContextNormalized(this.applyBaseEntry({},r,!1))}if("string"==typeof e){const t=this.normalizeContextIri(e,i),n=this.getOverriddenLoad(t,r);if(n)return new s.JsonLdContextNormalized(n);const o=await this.parse(await this.load(t),Object.assign(Object.assign({},r),{baseIRI:t,external:!0,remoteContexts:Object.assign(Object.assign({},g),{[t]:!0})}));return this.applyBaseEntry(o.getContextRaw(),r,!0),o}if(Array.isArray(e)){const t=[],n=await Promise.all(e.map(((e,n)=>{if("string"==typeof e){const o=this.normalizeContextIri(e,i);t[n]=o;return this.getOverriddenLoad(o,r)||this.load(o)}return e})));if(h)return new s.JsonLdContextNormalized(n);const o=await n.reduce(((e,i,n)=>e.then((e=>this.parse(i,Object.assign(Object.assign({},r),{baseIRI:t[n]||r.baseIRI,external:!!t[n]||r.external,parentContext:e.getContextRaw(),remoteContexts:t[n]?Object.assign(Object.assign({},g),{[t[n]]:!0}):g}))))),Promise.resolve(new s.JsonLdContextNormalized(p||{})));return this.applyBaseEntry(o.getContextRaw(),r,!0),o}if("object"==typeof e){if("@context"in e)return await this.parse(e["@context"],r);e=JSON.parse(JSON.stringify(e)),p&&!h&&(p=JSON.parse(JSON.stringify(p)));let o={};if(l&&delete e["@base"],this.applyBaseEntry(e,r,!0),this.containersToHash(e),h)return new s.JsonLdContextNormalized(e);let a={};if("@import"in e){if(!(u&&u>=1.1))throw new n.ErrorCoded("Context importing is not supported in JSON-LD 1.0",n.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!=typeof e["@import"])throw new n.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],n.ERROR_CODES.INVALID_IMPORT_VALUE);a=await this.loadImportContext(this.normalizeContextIri(e["@import"],i)),delete e["@import"]}o=Object.assign(Object.assign(Object.assign(Object.assign({},o),"object"==typeof p?p:{}),a),e);const g=new s.JsonLdContextNormalized(o);return await this.parseInnerContexts(o,r),!c&&p&&u&&u>=1.1&&this.validateKeywordRedefinitions(p,o,t.defaultExpandOptions),(o&&o["@version"]||u||d.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"==typeof e["@vocab"]||""===e["@vocab"])&&e["@vocab"].indexOf(":")<0&&p&&"@vocab"in p&&(o["@vocab"]=p["@vocab"]+e["@vocab"]),this.idifyReverseTerms(o),this.expandPrefixedTerms(g,this.expandContentTypeToBase),this.normalize(o,{processingMode:u,normalizeLanguageTags:f}),this.applyScopedProtected(o,{processingMode:u}),this.validateContext&&this.validate(o,{processingMode:u}),g}throw new n.ErrorCoded(`Tried parsing a context that is not a string, array or object, but got ${e}`,n.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const t=this.documentCache[e];if(t)return"string"==typeof t?t:Array.isArray(t)?t.slice():Object.assign({},t);let r;try{r=await this.documentLoader.load(e)}catch(t){throw new n.ErrorCoded(`Failed to load remote context ${e}: ${t.message}`,n.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new n.ErrorCoded(`Missing @context in remote context at ${e}`,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new n.ErrorCoded("Detected a cyclic context inclusion of "+e,n.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){const t=await this.load(e);if("object"!=typeof t||Array.isArray(t))throw new n.ErrorCoded("An imported context must be a single object: "+e,n.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new n.ErrorCoded("An imported context can not import another context: "+e,n.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t}}t.ContextParser=d,d.DEFAULT_PROCESSING_MODE=1.1,t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},87011:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class r extends Error{constructor(e,t){super(e),this.code=t}}var i;t.ErrorCoded=r,(i=t.ERROR_CODES||(t.ERROR_CODES={})).COLLIDING_KEYWORDS="colliding keywords",i.CONFLICTING_INDEXES="conflicting indexes",i.CYCLIC_IRI_MAPPING="cyclic IRI mapping",i.INVALID_ID_VALUE="invalid @id value",i.INVALID_INDEX_VALUE="invalid @index value",i.INVALID_NEST_VALUE="invalid @nest value",i.INVALID_PREFIX_VALUE="invalid @prefix value",i.INVALID_PROPAGATE_VALUE="invalid @propagate value",i.INVALID_REVERSE_VALUE="invalid @reverse value",i.INVALID_IMPORT_VALUE="invalid @import value",i.INVALID_VERSION_VALUE="invalid @version value",i.INVALID_BASE_IRI="invalid base IRI",i.INVALID_CONTAINER_MAPPING="invalid container mapping",i.INVALID_CONTEXT_ENTRY="invalid context entry",i.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",i.INVALID_DEFAULT_LANGUAGE="invalid default language",i.INVALID_INCLUDED_VALUE="invalid @included value",i.INVALID_IRI_MAPPING="invalid IRI mapping",i.INVALID_JSON_LITERAL="invalid JSON literal",i.INVALID_KEYWORD_ALIAS="invalid keyword alias",i.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",i.INVALID_LANGUAGE_MAPPING="invalid language mapping",i.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",i.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",i.INVALID_LOCAL_CONTEXT="invalid local context",i.INVALID_REMOTE_CONTEXT="invalid remote context",i.INVALID_REVERSE_PROPERTY="invalid reverse property",i.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",i.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",i.INVALID_SCOPED_CONTEXT="invalid scoped context",i.INVALID_SCRIPT_ELEMENT="invalid script element",i.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",i.INVALID_TERM_DEFINITION="invalid term definition",i.INVALID_TYPE_MAPPING="invalid type mapping",i.INVALID_TYPE_VALUE="invalid type value",i.INVALID_TYPED_VALUE="invalid typed value",i.INVALID_VALUE_OBJECT="invalid value object",i.INVALID_VALUE_OBJECT_VALUE="invalid value object value",i.INVALID_VOCAB_MAPPING="invalid vocab mapping",i.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",i.KEYWORD_REDEFINITION="keyword redefinition",i.LOADING_DOCUMENT_FAILED="loading document failed",i.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",i.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",i.PROCESSING_MODE_CONFLICT="processing mode conflict",i.PROTECTED_TERM_REDEFINITION="protected term redefinition",i.CONTEXT_OVERFLOW="context overflow",i.INVALID_BASE_DIRECTION="invalid base direction",i.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",i.INVALID_STREAMING_KEY_ORDER="invalid streaming key order"},97378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0,r(31905);const i=r(87011),n=r(12475),o=r(68912);t.FetchDocumentLoader=class{constructor(e){this.fetcher=e}async load(e){const t=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach(((t,i)=>{if("link"===i){const i=n.parse(t);for(const t of i.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=o.resolve(t.uri,e)}}})),r)return this.load(r)}throw new i.ErrorCoded(`Unsupported JSON-LD media type ${r}`,i.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||`Status code: ${t.status}`)}}},91891:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdContextNormalized=void 0;const i=r(68912),n=r(98931),o=r(87011),s=r(24990);t.JsonLdContextNormalized=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,t,r=n.defaultExpandOptions){const a=this.contextRaw[e];if(null===a||a&&null===a["@id"])return null;let l=!0;if(a&&t){const t=s.Util.getContextValueId(a);if(t&&t!==e){if("string"==typeof t&&(s.Util.isValidIri(t)||s.Util.isValidKeyword(t)))return t;s.Util.isPotentialKeyword(t)||(l=!1)}}const d=s.Util.getPrefix(e,this.contextRaw),u=this.contextRaw["@vocab"],f=(!!u||""===u)&&u.indexOf(":")<0,c=this.contextRaw["@base"],h=s.Util.isPotentialKeyword(e);if(d){const t=this.contextRaw[d],i=s.Util.getContextValueId(t);if(i){if("string"!=typeof t&&r.allowPrefixForcing){if("_"!==i[0]&&!h&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!s.Util.isSimpleTermDefinitionPrefix(i,r))return e;return i+e.substr(d.length+1)}}else{if(t&&(u||""===u||r.allowVocabRelativeToBase&&c&&f)&&!h&&!s.Util.isCompactIri(e)){if(f){if(r.allowVocabRelativeToBase)return i.resolve(u,c)+e;throw new o.ErrorCoded(`Relative vocab expansion for term '${e}' with vocab '${u}' is not allowed.`,o.ERROR_CODES.INVALID_VOCAB_MAPPING)}return u+e}if(!t&&c&&!h&&!s.Util.isCompactIri(e))return i.resolve(e,c)}if(l)return e;throw new o.ErrorCoded(`Invalid IRI mapping found for context entry '${e}': '${JSON.stringify(a)}'`,o.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const i in this.contextRaw){const n=this.contextRaw[i];if(n&&!s.Util.isPotentialKeyword(i)){const o=s.Util.getContextValueId(n);if(e.startsWith(o)){const n=e.substr(o.length);if(n)n.length<r.suffix.length&&(r.prefix=i,r.suffix=n);else if(t)return i}}}return r.prefix?r.prefix+":"+r.suffix:e}}},24990:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class r{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const i=e.substr(0,r);if("_"===i)return null;if(t[i])return i}return null}static getContextValueId(e){if(null===e||"string"==typeof e)return e;return e["@id"]||null}static isSimpleTermDefinitionPrefix(e,t){return!r.isPotentialKeyword(e)&&("_"===e[0]||t.allowPrefixNonGenDelims||r.isPrefixIriEndingWithGenDelim(e))}static isPotentialKeyword(e){return"string"==typeof e&&r.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return r.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"==typeof e||e&&"object"==typeof e)}static isValidIri(e){return r.IRI_REGEX.test(e)}static isValidIriWeak(e){return!!e&&":"!==e[0]&&r.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return r.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"==typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(r.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}}t.Util=r,r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"]},2222:e=>{var t={},r=t.LEFT_BRACE=1,i=t.RIGHT_BRACE=2,n=t.LEFT_BRACKET=3,o=t.RIGHT_BRACKET=4,s=t.COLON=5,a=t.COMMA=6,l=t.TRUE=7,d=t.FALSE=8,u=t.NULL=9,f=t.STRING=10,c=t.NUMBER=11,h=t.START=17,p=t.STOP=18,g=t.TRUE1=33,y=t.TRUE2=34,E=t.TRUE3=35,w=t.FALSE1=49,I=t.FALSE2=50,m=t.FALSE3=51,_=t.FALSE4=52,R=t.NULL1=65,O=t.NULL2=66,b=t.NULL3=67,v=t.NUMBER1=81,S=t.NUMBER3=83,T=t.STRING1=97,A=t.STRING2=98,N=t.STRING3=99,C=t.STRING4=100,L=t.STRING5=101,D=t.STRING6=102,x=t.VALUE=113,P=t.KEY=114,V=t.OBJECT=129,M=t.ARRAY=130,U="\\".charCodeAt(0),k="/".charCodeAt(0),j="\b".charCodeAt(0),B="\f".charCodeAt(0),$="\n".charCodeAt(0),F="\r".charCodeAt(0),G="\t".charCodeAt(0),X=65536;function J(){this.tState=h,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(X):new Buffer(X),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=x,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}J.toknam=function(e){for(var r=Object.keys(t),i=0,n=r.length;i<n;i++){var o=r[i];if(t[o]===e)return o}return e&&"0x"+e.toString(16)};var Y=J.prototype;Y.onError=function(e){throw e},Y.charError=function(e,t){this.tState=p,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+J.toknam(this.tState)))},Y.appendStringChar=function(e){this.stringBufferOffset>=X&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},Y.appendStringBuf=function(e,t,r){var i=e.length;"number"==typeof t&&(i="number"==typeof r?r<0?e.length-t+r:r-t:e.length-t),i<0&&(i=0),this.stringBufferOffset+i>X&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,r),this.stringBufferOffset+=i},Y.write=function(e){var t;"string"==typeof e&&(e=new Buffer(e));for(var p=0,x=e.length;p<x;p++)if(this.tState===h){if(t=e[p],this.offset++,123===t)this.onToken(r,"{");else if(125===t)this.onToken(i,"}");else if(91===t)this.onToken(n,"[");else if(93===t)this.onToken(o,"]");else if(58===t)this.onToken(s,":");else if(44===t)this.onToken(a,",");else if(116===t)this.tState=g;else if(102===t)this.tState=w;else if(110===t)this.tState=R;else if(34===t)this.string="",this.stringBufferOffset=0,this.tState=T;else if(45===t)this.string="-",this.tState=v;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=S;else if(32!==t&&9!==t&&10!==t&&13!==t)return this.charError(e,p)}else if(this.tState===T)if(t=e[p],this.bytes_remaining>0){for(var P=0;P<this.bytes_remaining;P++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+P]=e[P];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,p=p+P-1}else if(0===this.bytes_remaining&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+p+" in state "+J.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+p>e.length){for(var V=0;V<=e.length-1-p;V++)this.temp_buffs[this.bytes_in_sequence][V]=e[p+V];this.bytes_remaining=p+this.bytes_in_sequence-e.length,p=e.length-1}else this.appendStringBuf(e,p,p+this.bytes_in_sequence),p=p+this.bytes_in_sequence-1}else if(34===t)this.tState=h,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===t)this.tState=A;else{if(!(t>=32))return this.charError(e,p);this.appendStringChar(t)}else if(this.tState===A)if(34===(t=e[p]))this.appendStringChar(t),this.tState=T;else if(92===t)this.appendStringChar(U),this.tState=T;else if(47===t)this.appendStringChar(k),this.tState=T;else if(98===t)this.appendStringChar(j),this.tState=T;else if(102===t)this.appendStringChar(B),this.tState=T;else if(110===t)this.appendStringChar($),this.tState=T;else if(114===t)this.appendStringChar(F),this.tState=T;else if(116===t)this.appendStringChar(G),this.tState=T;else{if(117!==t)return this.charError(e,p);this.unicode="",this.tState=N}else if(this.tState===N||this.tState===C||this.tState===L||this.tState===D){if(!((t=e[p])>=48&&t<64||t>64&&t<=70||t>96&&t<=102))return this.charError(e,p);if(this.unicode+=String.fromCharCode(t),this.tState++===D){var M=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&M>=56320&&M<57344?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,M))),this.highSurrogate=void 0):void 0===this.highSurrogate&&M>=55296&&M<56320?this.highSurrogate=M:(void 0!==this.highSurrogate&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(M)))),this.tState=T}}else if(this.tState===v||this.tState===S)switch(t=e[p]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=S;break;default:this.tState=h;var X=Number(this.string);if(isNaN(X))return this.charError(e,p);this.string.match(/[0-9]+/)==this.string&&X.toString()!=this.string?this.onToken(f,this.string):this.onToken(c,X),this.offset+=this.string.length-1,this.string=void 0,p--}else if(this.tState===g){if(114!==e[p])return this.charError(e,p);this.tState=y}else if(this.tState===y){if(117!==e[p])return this.charError(e,p);this.tState=E}else if(this.tState===E){if(101!==e[p])return this.charError(e,p);this.tState=h,this.onToken(l,!0),this.offset+=3}else if(this.tState===w){if(97!==e[p])return this.charError(e,p);this.tState=I}else if(this.tState===I){if(108!==e[p])return this.charError(e,p);this.tState=m}else if(this.tState===m){if(115!==e[p])return this.charError(e,p);this.tState=_}else if(this.tState===_){if(101!==e[p])return this.charError(e,p);this.tState=h,this.onToken(d,!1),this.offset+=4}else if(this.tState===R){if(117!==e[p])return this.charError(e,p);this.tState=O}else if(this.tState===O){if(108!==e[p])return this.charError(e,p);this.tState=b}else if(this.tState===b){if(108!==e[p])return this.charError(e,p);this.tState=h,this.onToken(u,null),this.offset+=3}},Y.onToken=function(e,t){},Y.parseError=function(e,t){this.tState=p,this.onError(new Error("Unexpected "+J.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+J.toknam(this.state)))},Y.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},Y.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=x)},Y.emit=function(e){this.mode&&(this.state=a),this.onValue(e)},Y.onValue=function(e){},Y.onToken=function(e,t){if(this.state===x)if(e===f||e===c||e===l||e===d||e===u)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===r)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=P,this.mode=V;else if(e===n)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=M,this.state=x;else if(e===i){if(this.mode!==V)return this.parseError(e,t);this.pop()}else{if(e!==o)return this.parseError(e,t);if(this.mode!==M)return this.parseError(e,t);this.pop()}else if(this.state===P)if(e===f)this.key=t,this.state=s;else{if(e!==i)return this.parseError(e,t);this.pop()}else if(this.state===s){if(e!==s)return this.parseError(e,t);this.state=x}else{if(this.state!==a)return this.parseError(e,t);if(e===a)this.mode===M?(this.key++,this.state=x):this.mode===V&&(this.state=P);else{if(!(e===o&&this.mode===M||e===i&&this.mode===V))return this.parseError(e,t);this.pop()}}},J.C=t,e.exports=J},57945:(e,t,r)=>{"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0});const n=r(41640),o=r(23295),s=r(80038);i(r(23295)),i(r(80038));const a=new n.DataFactory,l=new s.Translator;function d(e,t){return l.fromRdf(e,t)}l.registerHandler(new o.TypeHandlerString,o.TypeHandlerString.TYPES.map((e=>a.namedNode(e))),["string"]),l.registerHandler(new o.TypeHandlerBoolean,[o.TypeHandlerBoolean.TYPE].map((e=>a.namedNode(e))),["boolean"]),l.registerHandler(new o.TypeHandlerNumberDouble,o.TypeHandlerNumberDouble.TYPES.map((e=>a.namedNode(e))),["number"]),l.registerHandler(new o.TypeHandlerNumberInteger,o.TypeHandlerNumberInteger.TYPES.map((e=>a.namedNode(e))),["number"]),l.registerHandler(new o.TypeHandlerDate,o.TypeHandlerDate.TYPES.map((e=>a.namedNode(e))),["object"]),t.fromRdf=d,t.toRdf=function(e,t){return t&&"namedNode"in t&&(t={dataFactory:t}),(t=t||{})&&!t.dataFactory&&(t.dataFactory=a),l.toRdf(e,t)},t.getTermRaw=function(e,t){return"Literal"===e.termType?d(e,t):e.value},t.getSupportedRdfDatatypes=function(){return l.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return l.getSupportedJavaScriptPrimitives()}},80038:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error(`Invalid RDF ${e.datatype.value} value: '${e.value}'`)}registerHandler(e,t,r){for(const r of t)this.supportedRdfDatatypes.push(r),this.fromRdfHandlers[r.value]=e;for(const t of r){let r=this.toRdfHandlers[t];r||(this.toRdfHandlers[t]=r=[]),r.push(e)}}fromRdf(e,t){const r=this.fromRdfHandlers[e.datatype.value];return r?r.fromRdf(e,t):e.value}toRdf(e,t){const r=this.toRdfHandlers[typeof e];if(r)for(const i of r){const r=i.toRdf(e,t);if(r)return r}throw new Error(`Invalid JavaScript value: '${e}'`)}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},83737:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(80038);class n{fromRdf(e,t){switch(e.value){case"true":return!0;case"false":return!1;case"1":return!0;case"0":return!1}return t&&i.Translator.incorrectRdfDataType(e),!1}toRdf(e,{datatype:t,dataFactory:r}){return r.literal(e?"true":"false",t||r.namedNode(n.TYPE))}}t.TypeHandlerBoolean=n,n.TYPE="http://www.w3.org/2001/XMLSchema#boolean"},23896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(80038);class n{fromRdf(e,t){switch(t&&!e.value.match(n.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&i.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const t=e.value.split("-");return new Date(0,parseInt(t[0],10)-1,parseInt(t[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,{datatype:t,dataFactory:r}){if(t=t||r.namedNode(n.TYPES[0]),!(e instanceof Date))return null;const i=e;let o;switch(t.value){case"http://www.w3.org/2001/XMLSchema#gDay":o=String(i.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":o=i.getUTCMonth()+1+"-"+i.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":o=String(i.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":o=i.getUTCFullYear()+"-"+(i.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":o=i.toISOString().replace(/T.*$/,"");break;default:o=i.toISOString()}return r.literal(o,t)}}t.TypeHandlerDate=n,n.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],n.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/}},20340:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(80038);class n{fromRdf(e,t){const r=parseFloat(e.value);return t&&isNaN(r)&&i.Translator.incorrectRdfDataType(e),r}toRdf(e,{datatype:t,dataFactory:r}){return t=t||r.namedNode(n.TYPES[0]),isNaN(e)?r.literal("NaN",t):isFinite(e)?e%1==0?null:r.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),t):r.literal(e>0?"INF":"-INF",t)}}t.TypeHandlerNumberDouble=n,n.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"]},39736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(80038);class n{fromRdf(e,t){const r=parseInt(e.value,10);return t&&(isNaN(r)||e.value.indexOf(".")>=0)&&i.Translator.incorrectRdfDataType(e),r}toRdf(e,{datatype:t,dataFactory:r}){return r.literal(String(e),t||(e<=n.MAX_INT&&e>=n.MIN_INT?r.namedNode(n.TYPES[0]):r.namedNode(n.TYPES[1])))}}t.TypeHandlerNumberInteger=n,n.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],n.MAX_INT=2147483647,n.MIN_INT=-2147483648},27968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});class r{fromRdf(e){return e.value}toRdf(e,{datatype:t,dataFactory:r}){return r.literal(e,t)}}t.TypeHandlerString=r,r.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"]},23295:(e,t,r)=>{"use strict";function i(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),i(r(83737)),i(r(23896)),i(r(20340)),i(r(39736)),i(r(27968))},68912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(9336))},9336:(e,t)=>{"use strict";function r(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!n(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!n(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map((e=>e.join(""))).join("/")}function i(e,t){let i=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(i=t+3):"/"===e[0]&&"/"===e[1]&&(i=2);const n=e.indexOf("/",i);return n<0?e:e.substr(0,n)+r(e.substr(n))}function n(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.resolve=function(e,t){const n=(t=t||"").indexOf("#");if(n>0&&(t=t.substr(0,n)),!e.length){if(t.indexOf(":")<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error(`Found invalid relative IRI '${e}' for a missing baseIRI`);return i(e,t)}const o=e.indexOf(":");if(o>=0)return i(e,o);const s=t.indexOf(":");if(s<0)throw new Error(`Found invalid baseIRI '${t}' for value '${e}'`);const a=t.substr(0,s+1);if(0===e.indexOf("//"))return a+i(e,o);let l;if(t.indexOf("//",s)===s+1){if(l=t.indexOf("/",s+3),l<0)return t.length>s+3?t+"/"+i(e,o):a+i(e,o)}else if(l=t.indexOf("/",s+1),l<0)return a+i(e,o);if(0===e.indexOf("/"))return t.substr(0,l)+r(e);let d=t.substr(l);const u=d.lastIndexOf("/");return u>=0&&u<d.length-1&&(d=d.substr(0,u+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=d+e),t.substr(0,l)+e},t.removeDotSegments=r,t.removeDotSegmentsOfPath=i},39249:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(50287),t),n(r(1666),t)},1666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlJsonBindingsTransformer=void 0;const i=r(42830);class n extends i.Transform{constructor(e){super({objectMode:!0}),this.parser=e}_transform(e,t,r){r(null,this.parser.parseJsonBindings(e))}}t.SparqlJsonBindingsTransformer=n},50287:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlJsonParser=void 0;const i=r(41640),n=r(1666);t.SparqlJsonParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new i.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseJsonResults(e){return e.results.bindings.map((e=>this.parseJsonBindings(e)))}parseJsonResultsStream(e){e.on("error",(e=>i.emit("error",e)));const t=[];e.pipe(r(31327).parse("head.vars.*")).on("data",(e=>t.push(this.dataFactory.variable(e)))).on("end",(()=>i.emit("variables",t)));const i=e.pipe(r(31327).parse("results.bindings.*")).pipe(new n.SparqlJsonBindingsTransformer(this));return i}parseJsonBindings(e){const t={};for(const r in e){const i=e[r];let n=null;switch(i.type){case"bnode":n=this.dataFactory.blankNode(i.value);break;case"literal":n=i["xml:lang"]?this.dataFactory.literal(i.value,i["xml:lang"]):i.datatype?this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype)):this.dataFactory.literal(i.value);break;case"typed-literal":n=this.dataFactory.literal(i.value,this.dataFactory.namedNode(i.datatype));break;default:n=this.dataFactory.namedNode(i.value)}t[this.prefixVariableQuestionMark?"?"+r:r]=n}return t}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise(((t,i)=>{e.on("error",i),e.pipe(r(31327).parse("boolean")).on("data",t).on("end",(()=>i(new Error("No valid ASK response was found."))))}))}}},86610:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(81946),t)},81946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;const i=r(57945),n=r(39249);class o{constructor(e){(e=e||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new n.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,t,r,i,n,s){const a=t[0],l=i?i+s+a:a,d=n.singularizeVariables[l];if(1===t.length)d?e[a]||(e[a]=r):(e[a]||(e[a]=[]),e[a].push(r));else{let i;d?(e[a]||(e[a]={}),i=e[a]):(e[a]||(e[a]=[{}]),i=e[a][0]),o.addValueToTree(i,t.slice(1),r,l,n,s)}}static mergeTrees(e,t){if(typeof e!=typeof t)throw new Error(`Two incompatible tree nodes were found: ${typeof e} and ${typeof t}`);if(Array.isArray(e)!==Array.isArray(t))throw new Error(`Two incompatible tree nodes were found: Array?${Array.isArray(e)} and Array?${Array.isArray(t)}`);if("object"==typeof e&&"object"==typeof t){if(e.termType&&t.termType)return e.equals(t)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){const r=[];let i=!1;for(const n of e){const e=o.mergeTrees(n,t[0]);e.valid?(i=!0,r.push(e.result)):r.push(n)}if(i)return{valid:!0,result:r}}return{valid:!0,result:e.concat(t)}}{const r={};for(const e in t)r[e]=t[e];for(const t in e)if(r[t]){const i=o.mergeTrees(e[t],r[t]);if(!i.valid)return{valid:!1,result:e};r[t]=i.result}else r[t]=e[t];return{valid:!0,result:r}}}throw new Error(`Unmergable tree types: ${typeof e} and ${typeof t}`)}static materializeTree(e){if(e.termType)return i.getTermRaw(e);if(Array.isArray(e))return e.map(o.materializeTree);{const t={};for(const r in e)t[r]=o.materializeTree(e[r]);return t}}sparqlJsonResultsToTree(e,t){return this.bindingsToTree(this.parser.parseJsonResults(e),t||{singularizeVariables:{}})}bindingsToTree(e,t){const r=t&&t.singularizeVariables[""];let i=r?{}:[];for(const n of e){const e=r?{}:[{}];for(const i in n){const s=i.split(this.delimiter),a=n[i];o.addValueToTree(r?e:e[0],s,a,"",t,this.delimiter)}i=o.mergeTrees(i,e).result}return this.materializeRdfJsTerms&&(i=o.materializeTree(i)),i}}t.Converter=o},42830:(e,t,r)=>{e.exports=n;var i=r(86874).EventEmitter;function n(){i.call(this)}r(35717)(n,i),n.Readable=r(79481),n.Writable=r(64229),n.Duplex=r(56753),n.Transform=r(74605),n.PassThrough=r(82725),n.finished=r(8610),n.pipeline=r(59946),n.Stream=n,n.prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){if(u(),0===i.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",l),r.removeListener("error",d),e.removeListener("error",d),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",d),e.on("error",d),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},26547:(e,t,r)=>{var i=r(34155),n=r(42830);function o(e,t,r){e=e||function(e){this.queue(e)},t=t||function(){this.queue(null)};var o=!1,s=!1,a=[],l=!1,d=new n;function u(){for(;a.length&&!d.paused;){var e=a.shift();if(null===e)return d.emit("end");d.emit("data",e)}}function f(){d.writable=!1,t.call(d),!d.readable&&d.autoDestroy&&d.destroy()}return d.readable=d.writable=!0,d.paused=!1,d.autoDestroy=!(r&&!1===r.autoDestroy),d.write=function(t){return e.call(this,t),!d.paused},d.queue=d.push=function(e){return l||(null===e&&(l=!0),a.push(e),u()),d},d.on("end",(function(){d.readable=!1,!d.writable&&d.autoDestroy&&i.nextTick((function(){d.destroy()}))})),d.end=function(e){if(!o)return o=!0,arguments.length&&d.write(e),f(),d},d.destroy=function(){if(!s)return s=!0,o=!0,a.length=0,d.writable=d.readable=!1,d.emit("close"),d},d.pause=function(){if(!d.paused)return d.paused=!0,d},d.resume=function(){return d.paused&&(d.paused=!1,d.emit("resume")),u(),d.paused||d.emit("drain"),d},d}e.exports=o,o.through=o}}]);