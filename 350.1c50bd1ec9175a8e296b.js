(self.webpackChunkprojectquery=self.webpackChunkprojectquery||[]).push([[350,181],{64063:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var a,n,s;if(Array.isArray(t)){if((a=t.length)!=r.length)return!1;for(n=a;0!=n--;)if(!e(t[n],r[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((a=(s=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(n=a;0!=n--;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=a;0!=n--;){var i=s[n];if(!e(t[i],r[i]))return!1}return!0}return t!=t&&r!=r}},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},34155:e=>{var t,r,a=e.exports={};function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===n||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:n}catch(e){t=n}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,o=[],p=!1,c=-1;function l(){p&&u&&(p=!1,u.length?o=u.concat(o):c=-1,o.length&&d())}function d(){if(!p){var e=i(l);p=!0;for(var t=o.length;t;){for(u=o,o=[];++c<t;)u&&u[c].run();c=-1,t=o.length}u=null,p=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];o.push(new f(e,t)),1!==o.length||p||i(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=y,a.addListener=y,a.once=y,a.off=y,a.removeListener=y,a.removeAllListeners=y,a.emit=y,a.prependListener=y,a.prependOnceListener=y,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},41640:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(7970),t),n(r(37498),t),n(r(16381),t),n(r(72808),t),n(r(92016),t),n(r(63387),t),n(r(71573),t)},7970:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0,t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},37498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const a=r(7970),n=r(16381),s=r(72808),i=r(92016),u=r(63387),o=r(71573);let p=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${p++}_`}namedNode(e){return new i.NamedNode(e)}blankNode(e){return new a.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new s.Literal(e,t)}variable(e){return new o.Variable(e)}defaultGraph(){return n.DefaultGraph.INSTANCE}quad(e,t,r,a){return new u.Quad(e,t,r,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(s.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},16381:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},72808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const a=r(92016);class n{constructor(e,t){this.termType="Literal",this.value=e,"string"==typeof t?(this.language=t,this.datatype=n.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=n.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=n,n.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),n.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string")},92016:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0,t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},63387:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0,t.Quad=class{constructor(e,t,r,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=a}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},71573:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0,t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},76065:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(64542),t)},64542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTermGrounded=t.termToSignature=t.quadToSignature=t.sha1hex=t.hashTerm=t.hashTerms=t.getGraphBlankNodes=t.uniqGraph=t.deindexGraph=t.indexGraph=t.getQuadsWithoutBlankNodes=t.getQuadsWithBlankNodes=t.hasValue=t.hashValues=t.getBijectionInner=t.getBijection=t.isomorphic=void 0;const a=r(33715),n=r(34987),s=r(40675);function i(e,t){const r=f(d(e)),a=f(d(t));if(Object.keys(r).length!==Object.keys(a).length)return null;for(const e in r)if(r[e]!==a[e])return null;return u(h(l(e)),h(l(t)),g(e),g(t))}function u(e,t,r,a,s,i){s||(s={}),i||(i={});const[l,d]=m(e,r,s),[f,y]=m(t,a,i);if(Object.keys(l).length!==Object.keys(f).length)return null;for(const e in l)if(!c(f,l[e]))return null;let h={};for(const e of r){const t=n.termToString(e),r=d[t];for(const e in y)if(y[e]===r){h[t]=e,delete y[e];break}}if(!o(Object.keys(h).sort(),r.map(n.termToString).sort())||!o(p(h).sort(),a.map(n.termToString).sort())){h=null;for(const s of r){const i=n.termToString(s);if(!l[i])for(const s of a){const o=n.termToString(s);if(!f[o]&&d[i]===y[o]){const n=b(i);h=u(e,t,r,a,Object.assign(Object.assign({},l),{[i]:n}),Object.assign(Object.assign({},f),{[o]:n}))}}}}return h}function o(e,t){if(e.length!==t.length)return!1;for(let r=e.length;r--;)if(e[r]!==t[r])return!1;return!0}function p(e){const t=[];for(const r in e)t.push(e[r]);return t}function c(e,t){for(const r in e)if(e[r]===t)return!0;return!1}function l(e){return e.filter((e=>s.someTerms(e,(e=>"BlankNode"===e.termType||"Quad"===e.termType&&s.getTermsNested(e).some((e=>"BlankNode"===e.termType))))))}function d(e){return e.filter((e=>s.everyTerms(e,(e=>"BlankNode"!==e.termType&&!("Quad"===e.termType&&s.getTermsNested(e).some((e=>"BlankNode"===e.termType)))))))}function f(e){const t={};for(const r of e)t[JSON.stringify(n.quadToStringQuad(r))]=!0;return t}function y(e){return Object.keys(e).map((e=>n.stringQuadToQuad(JSON.parse(e))))}function h(e){return y(f(e))}function g(e){return s.uniqTerms(e.map((e=>s.getBlankNodes(s.getTermsNested(e)))).reduce(((e,t)=>e.concat(t)),[]))}function m(e,t,r){const a=Object.assign({},r),s={};let i=!0;for(;i;){const r=Object.keys(a).length;for(const r of t){const t=n.termToString(r);if(!a[t]){const[n,i]=T(r,e,a);n&&(a[t]=i),s[t]=i}}const u={};for(const e in s){const t=s[e];void 0===u[t]?u[t]=e:u[t]=!1}for(const e in u){const t=u[e];t&&(a[t]=e)}i=r!==Object.keys(a).length}return[a,s]}function T(e,t,r){const a=[];let n=!0;for(const i of t){const t=s.getTermsNested(i);if(t.some((t=>t.equals(e)))){a.push(E(i,r,e));for(const a of t)N(a,r)||a.equals(e)||(n=!1)}}return[n,b(a.sort().join(""))]}function b(e){return a.sha1().update(e).digest("hex")}function E(e,t,r){return s.getTerms(e).map((e=>O(e,t,r))).join("|")}function O(e,t,r){return e.equals(r)?"@self":"BlankNode"===e.termType?t[n.termToString(e)]||"@blank":"Quad"===e.termType?`<${E(e,t,r)}>`:n.termToString(e)}function N(e,t){return"BlankNode"!==e.termType&&!("Quad"===e.termType&&s.getTermsNested(e).some((e=>!N(e,t))))||!!t[n.termToString(e)]}t.isomorphic=function(e,t){return!!i(e,t)},t.getBijection=i,t.getBijectionInner=u,t.hashValues=p,t.hasValue=c,t.getQuadsWithBlankNodes=l,t.getQuadsWithoutBlankNodes=d,t.indexGraph=f,t.deindexGraph=y,t.uniqGraph=h,t.getGraphBlankNodes=g,t.hashTerms=m,t.hashTerm=T,t.sha1hex=b,t.quadToSignature=E,t.termToSignature=O,t.isTermGrounded=N},60946:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(53308),t),n(r(64684),t),n(r(45393),t),n(r(28926),t),n(r(14119),t),n(r(38237),t),n(r(77905),t)},53308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0,t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},64684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const a=r(53308),n=r(45393),s=r(28926),i=r(14119),u=r(38237),o=r(77905);let p=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${p++}_`}namedNode(e){return new i.NamedNode(e)}blankNode(e){return new a.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new s.Literal(e,t)}variable(e){return new o.Variable(e)}defaultGraph(){return n.DefaultGraph.INSTANCE}quad(e,t,r,a){return new u.Quad(e,t,r,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(s.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},45393:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},28926:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const a=r(14119);class n{constructor(e,t){this.termType="Literal",this.value=e,"string"==typeof t?(this.language=t,this.datatype=n.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=n.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=n,n.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),n.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string")},14119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0,t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},38237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0,t.Quad=class{constructor(e,t,r,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=a}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},77905:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0,t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},34987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const a=r(69267);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return a.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return a.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return a.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return a.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return a.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return a.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return a.termToString}})},69267:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const a=new(r(60946).DataFactory);function n(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${n(e.subject)} ${n(e.predicate)} ${n(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+n(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function s(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function i(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function u(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function o(e,t){if(t=t||a,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=u(e),a=t.namedNode(i(e));return t.literal(s(e),r||a);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),a=[];let n=0,s=0;for(let t=0;t<r.length;t++){const i=r[t];if("<"===i&&n++,">"===i){if(0===n)throw new Error("Found closing tag without opening tag in "+e);n--}" "===i&&0===n&&(a.push(r.slice(s,t)),s=t+1)}if(0!==n)throw new Error("Found opening tag without closing tag in "+e);if(a.push(r.slice(s,r.length)),3!==a.length&&4!==a.length)throw new Error("Nested quad syntax error "+e);return t.quad(o(a[0]),o(a[1]),o(a[2]),a[3]?o(a[3]):void 0)}return t.namedNode(e)}}t.termToString=n,t.getLiteralValue=s,t.getLiteralType=i,t.getLiteralLanguage=u,t.stringToTerm=o,t.quadToStringQuad=function(e){return{subject:n(e.subject),predicate:n(e.predicate),object:n(e.object),graph:n(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||a).quad(o(e.subject,t),o(e.predicate,t),o(e.object,t),o(e.graph,t))}},40675:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRIPLE_TERM_NAMES=t.someTerms=t.everyTerms=t.reduceTerms=t.mapTerms=t.filterQuadTermNames=t.filterTerms=t.forEachTerms=t.collectNamedTerms=t.getNamedTerms=t.getTermsNested=t.getTerms=t.QUAD_TERM_NAMES=t.matchPatternComplete=t.matchPattern=t.getDefaultGraphs=t.getVariables=t.getLiterals=t.getBlankNodes=t.getNamedNodes=t.getTermsOfType=t.uniqTerms=t.TERM_TYPES=void 0;const a=r(66010);Object.defineProperty(t,"collectNamedTerms",{enumerable:!0,get:function(){return a.collectNamedTerms}}),Object.defineProperty(t,"everyTerms",{enumerable:!0,get:function(){return a.everyTerms}}),Object.defineProperty(t,"filterQuadTermNames",{enumerable:!0,get:function(){return a.filterQuadTermNames}}),Object.defineProperty(t,"filterTerms",{enumerable:!0,get:function(){return a.filterTerms}}),Object.defineProperty(t,"forEachTerms",{enumerable:!0,get:function(){return a.forEachTerms}}),Object.defineProperty(t,"getNamedTerms",{enumerable:!0,get:function(){return a.getNamedTerms}}),Object.defineProperty(t,"getTerms",{enumerable:!0,get:function(){return a.getTerms}}),Object.defineProperty(t,"getTermsNested",{enumerable:!0,get:function(){return a.getTermsNested}}),Object.defineProperty(t,"mapTerms",{enumerable:!0,get:function(){return a.mapTerms}}),Object.defineProperty(t,"matchPattern",{enumerable:!0,get:function(){return a.matchPattern}}),Object.defineProperty(t,"matchPatternComplete",{enumerable:!0,get:function(){return a.matchPatternComplete}}),Object.defineProperty(t,"QUAD_TERM_NAMES",{enumerable:!0,get:function(){return a.QUAD_TERM_NAMES}}),Object.defineProperty(t,"reduceTerms",{enumerable:!0,get:function(){return a.reduceTerms}}),Object.defineProperty(t,"someTerms",{enumerable:!0,get:function(){return a.someTerms}}),Object.defineProperty(t,"TRIPLE_TERM_NAMES",{enumerable:!0,get:function(){return a.TRIPLE_TERM_NAMES}});const n=r(61502);Object.defineProperty(t,"getBlankNodes",{enumerable:!0,get:function(){return n.getBlankNodes}}),Object.defineProperty(t,"getDefaultGraphs",{enumerable:!0,get:function(){return n.getDefaultGraphs}}),Object.defineProperty(t,"getLiterals",{enumerable:!0,get:function(){return n.getLiterals}}),Object.defineProperty(t,"getNamedNodes",{enumerable:!0,get:function(){return n.getNamedNodes}}),Object.defineProperty(t,"getTermsOfType",{enumerable:!0,get:function(){return n.getTermsOfType}}),Object.defineProperty(t,"getVariables",{enumerable:!0,get:function(){return n.getVariables}}),Object.defineProperty(t,"TERM_TYPES",{enumerable:!0,get:function(){return n.TERM_TYPES}}),Object.defineProperty(t,"uniqTerms",{enumerable:!0,get:function(){return n.uniqTerms}})},66010:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchPatternComplete=t.matchPattern=t.matchTerm=t.someTerms=t.everyTerms=t.reduceTerms=t.mapTerms=t.filterQuadTermNames=t.filterTerms=t.forEachTerms=t.collectNamedTerms=t.getNamedTerms=t.getTermsNested=t.getTerms=t.TRIPLE_TERM_NAMES=t.QUAD_TERM_NAMES=void 0;const a=new(r(60946).DataFactory);function n(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function s(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&u(e,t)||t.equals(e)}function i(e,t,r,a,n){return s(e.subject,t)&&s(e.predicate,r)&&s(e.object,a)&&s(e.graph,n)}function u(e,t){return i(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=n,t.getTermsNested=function e(t,r){const a=[];for(const s of n(t,r))"Quad"===s.termType?e(s,r).forEach((e=>a.push(e))):a.push(s);return a},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const n={};return e.forEach((e=>n[e.key]=e.value)),t&&(n.subject=n.subject||t("subject"),n.predicate=n.predicate||t("predicate"),n.object=n.object||t("object"),n.graph=n.graph||t("graph")),(r||a).quad(n.subject,n.predicate,n.object,n.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.mapTerms=function(e,t,r){return(r||a).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.reduceTerms=function(e,t,r){let a=r;return a=t(a,e.subject,"subject"),a=t(a,e.predicate,"predicate"),a=t(a,e.object,"object"),t(a,e.graph,"graph")},t.everyTerms=function(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.matchTerm=s,t.matchPattern=i,t.matchPatternComplete=u},61502:(e,t,r)=>{"use strict";function a(e,t){return e.filter((e=>e.termType===t))}Object.defineProperty(t,"__esModule",{value:!0}),t.getQuads=t.getDefaultGraphs=t.getVariables=t.getLiterals=t.getBlankNodes=t.getNamedNodes=t.getTermsOfType=t.uniqTerms=t.TERM_TYPES=void 0,t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=function(e){return r(35920)(e,((e,t)=>e.equals(t)))},t.getTermsOfType=a,t.getNamedNodes=function(e){return a(e,"NamedNode")},t.getBlankNodes=function(e){return a(e,"BlankNode")},t.getLiterals=function(e){return a(e,"Literal")},t.getVariables=function(e){return a(e,"Variable")},t.getDefaultGraphs=function(e){return a(e,"DefaultGraph")},t.getQuads=function(e){return a(e,"Quad")}},21938:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const a=r(11183);t.translate=a.default;const n=r(90250);t.Algebra=n;const s=r(99969);t.Factory=s.default;const i=r(76693);Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return i.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return i.toSparqlJs}});const u=r(14101);t.Util=u.default},90250:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,t.types={ALT:"alt",ASK:"ask",BGP:"bgp",CONSTRUCT:"construct",DESC:"desc",DESCRIBE:"describe",DISTINCT:"distinct",EXPRESSION:"expression",EXTEND:"extend",FILTER:"filter",FROM:"from",GRAPH:"graph",GROUP:"group",INV:"inv",JOIN:"join",LEFT_JOIN:"leftjoin",LINK:"link",MINUS:"minus",NOP:"nop",NPS:"nps",ONE_OR_MORE_PATH:"OneOrMorePath",ORDER_BY:"orderby",PATH:"path",PATTERN:"pattern",PROJECT:"project",REDUCED:"reduced",SEQ:"seq",SERVICE:"service",SLICE:"slice",UNION:"union",VALUES:"values",ZERO_OR_MORE_PATH:"ZeroOrMorePath",ZERO_OR_ONE_PATH:"ZeroOrOnePath",COMPOSITE_UPDATE:"compositeupdate",DELETE_INSERT:"deleteinsert",LOAD:"load",CLEAR:"clear",CREATE:"create",DROP:"drop",ADD:"add",MOVE:"move",COPY:"copy"},t.expressionTypes={AGGREGATE:"aggregate",EXISTENCE:"existence",NAMED:"named",OPERATOR:"operator",TERM:"term",WILDCARD:"wildcard"}},99969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(90250),n=r(16736),s=r(2892),i=r(9619);t.default=class{constructor(e){this.dataFactory=e||new n.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e,t){return{type:a.types.ALT,left:e,right:t}}createAsk(e){return{type:a.types.ASK,input:e}}createBoundAggregate(e,t,r,a,n){let s=this.createAggregateExpression(t,r,a,n);return s.variable=e,s}createBgp(e){return{type:a.types.BGP,patterns:e}}createConstruct(e,t){return{type:a.types.CONSTRUCT,input:e,template:t}}createDescribe(e,t){return{type:a.types.DESCRIBE,input:e,terms:t}}createDistinct(e){return{type:a.types.DISTINCT,input:e}}createExtend(e,t,r){return{type:a.types.EXTEND,input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:a.types.FROM,input:e,default:t,named:r}}createFilter(e,t){return{type:a.types.FILTER,input:e,expression:t}}createGraph(e,t){return{type:a.types.GRAPH,input:e,name:t}}createGroup(e,t,r){return{type:a.types.GROUP,input:e,variables:t,aggregates:r}}createInv(e){return{type:a.types.INV,path:e}}createJoin(e,t){return{type:a.types.JOIN,left:e,right:t}}createLeftJoin(e,t,r){return r?{type:a.types.LEFT_JOIN,left:e,right:t,expression:r}:{type:a.types.LEFT_JOIN,left:e,right:t}}createLink(e){return{type:a.types.LINK,iri:e}}createMinus(e,t){return{type:a.types.MINUS,left:e,right:t}}createNop(){return{type:a.types.NOP}}createNps(e){return{type:a.types.NPS,iris:e}}createOneOrMorePath(e){return{type:a.types.ONE_OR_MORE_PATH,path:e}}createOrderBy(e,t){return{type:a.types.ORDER_BY,input:e,expressions:t}}createPath(e,t,r,n){return n?{type:a.types.PATH,subject:e,predicate:t,object:r,graph:n}:{type:a.types.PATH,subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){let s=this.dataFactory.quad(e,t,r,n);return s.type=a.types.PATTERN,s}createProject(e,t){return{type:a.types.PROJECT,input:e,variables:t}}createReduced(e){return{type:a.types.REDUCED,input:e}}createSeq(e,t){return{type:a.types.SEQ,left:e,right:t}}createService(e,t,r){return{type:a.types.SERVICE,input:e,name:t,silent:r}}createSlice(e,t,r){return t=t||0,void 0!==r?{type:a.types.SLICE,input:e,start:t,length:r}:{type:a.types.SLICE,input:e,start:t}}createUnion(e,t){return{type:a.types.UNION,left:e,right:t}}createValues(e,t){return{type:a.types.VALUES,variables:e,bindings:t}}createZeroOrMorePath(e){return{type:a.types.ZERO_OR_MORE_PATH,path:e}}createZeroOrOnePath(e){return{type:a.types.ZERO_OR_ONE_PATH,path:e}}createAggregateExpression(e,t,r,n){return n?{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:e,expression:t,separator:n,distinct:r}:{type:a.types.EXPRESSION,expressionType:a.expressionTypes.AGGREGATE,aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.EXISTENCE,not:e,input:t}}createNamedExpression(e,t){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.NAMED,name:e,args:t}}createOperatorExpression(e,t){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.OPERATOR,operator:e,args:t}}createTermExpression(e){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.TERM,term:e}}createWildcardExpression(){return{type:a.types.EXPRESSION,expressionType:a.expressionTypes.WILDCARD,wildcard:new i.Wildcard}}createTerm(e){return s.stringToTerm(e,this.dataFactory)}createCompositeUpdate(e){return{type:a.types.COMPOSITE_UPDATE,updates:e}}createDeleteInsert(e,t,r){const n={type:a.types.DELETE_INSERT};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:a.types.LOAD,source:e};return t&&(n.destination=t),this.addSilent(n,r)}createClear(e,t){return this.addSilent({type:a.types.CLEAR,source:e},t)}createCreate(e,t){return this.addSilent({type:a.types.CREATE,source:e},t)}createDrop(e,t){return this.addSilent({type:a.types.DROP,source:e},t)}createAdd(e,t,r){return this.addSilent({type:a.types.ADD,source:e,destination:t},r)}createMove(e,t,r){return this.addSilent({type:a.types.MOVE,source:e,destination:t},r)}createCopy(e,t,r){return this.addSilent({type:a.types.COPY,source:e,destination:t},r)}addSilent(e,t){return t&&(e.silent=t),e}}},76693:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const a=r(76065),n=r(2892),s=r(9619),i=r(90250),u=r(99969),o=r(14101),p=i.types,c=i.expressionTypes;let l;const d=new u.default;function f(e){y();let t=h(e=function(e){return w(e,{})}(e));return"group"===t.type?t.patterns[0]:t}function y(){l={project:!1,extend:[],group:[],aggregates:[],order:[]}}function h(e){switch(e.type!==p.EXTEND&&e.type!==p.ORDER_BY&&e.type!==p.GRAPH&&(l.project=!1),e.type){case p.EXPRESSION:return g(e);case p.ASK:return N(e,p.ASK);case p.BGP:return function(e){let t=e.patterns.map(E);return 0===t.length?null:{type:"bgp",triples:t}}(e);case p.CONSTRUCT:return function(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(E),where:o.default.flatten([h(e.input)])}}(e);case p.DESCRIBE:return N(e,p.DESCRIBE);case p.DISTINCT:return function(e){let t=h(e.input);return t.patterns[0].distinct=!0,t}(e);case p.EXTEND:return function(e){return l.project?(l.extend.push(e),h(e.input)):o.default.flatten([h(e.input),{type:"bind",variable:e.variable,expression:g(e.expression)}])}(e);case p.FROM:return function(e){const t=h(e.input);return t.patterns[0].from={default:e.default,named:e.named},t}(e);case p.FILTER:return function(e){return{type:"group",patterns:o.default.flatten([h(e.input),{type:"filter",expression:g(e.expression)}])}}(e);case p.GRAPH:return function(e){return{type:"graph",patterns:o.default.flatten([h(e.input)]),name:e.name}}(e);case p.GROUP:return function(e){const t=h(e.input),r=e.aggregates.map(b);return l.aggregates.push(...r),l.group.push(...e.variables),t}(e);case p.JOIN:return function(e){return o.default.flatten([h(e.left),h(e.right)]).reduce(((e,t)=>("bgp"!==t.type||0==e.length||"bgp"!==e[e.length-1].type?e.push(t):e[e.length-1].triples.push(...t.triples),e)),[])}(e);case p.LEFT_JOIN:return function(e){const t={type:"optional",patterns:[h(e.right)]};return e.expression&&t.patterns.push({type:"filter",expression:g(e.expression)}),t.patterns=o.default.flatten(t.patterns),o.default.flatten([h(e.left),t])}(e);case p.MINUS:return function(e){let t=h(e.right);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),o.default.flatten([h(e.left),{type:"minus",patterns:t}])}(e);case p.NOP:return{};case p.ORDER_BY:return function(e){return l.order.push(...e.expressions),h(e.input)}(e);case p.PATH:return function(e){return{type:"bgp",triples:[{subject:e.subject,predicate:m(e.predicate),object:e.object}]}}(e);case p.PATTERN:return E(e);case p.PROJECT:return N(e,p.PROJECT);case p.REDUCED:return function(e){let t=h(e.input);return t.patterns[0].reduced=!0,t}(e);case p.SERVICE:return function(e){let t=h(e.input);return"group"===t.type&&(t=t.patterns),Array.isArray(t)||(t=[t]),{type:"service",name:e.name,silent:e.silent,patterns:t}}(e);case p.SLICE:return function(e){let t=h(e.input),r=t;return t.type&&"group"===t.type&&(r=t.patterns[0]),0!==e.start&&(r.offset=e.start),void 0!==e.length&&(r.limit=e.length),t}(e);case p.UNION:return function(e){return{type:"union",patterns:o.default.flatten([h(e.left),h(e.right)])}}(e);case p.VALUES:return function(e){return{type:"values",values:e.bindings.map((t=>{let r={};for(let a of e.variables){let e=`?${a.value}`;t[e]?r[e]=t[e]:r[e]=void 0}return r}))}}(e);case p.COMPOSITE_UPDATE:return function(e){return{prefixes:{},type:"update",updates:e.updates.map((e=>h(e).updates[0]))}}(e);case p.DELETE_INSERT:return function(e){let t,r=e.where;if(r&&r.type===p.FROM){let a=e.where;r=a.input,t={default:a.default,named:a.named}}const n=[{updateType:"insertdelete",delete:P(e.delete),insert:P(e.insert)}];if(t&&(n[0].using=t),!r||r.type===p.BGP&&0===r.patterns.length)n[0].where=[];else{const e={};let t=h(w(r,e));"group"===t.type?n[0].where=t.patterns:n[0].where=[t];const a=Object.keys(e);if(a.length>0){if(1!==a.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==e[a[0]].graph.value&&(n[0].where=[{type:"graph",patterns:n[0].where,name:e[a[0]].graph}])}}return e.delete||e.where?e.insert||e.where?!e.insert&&e.where&&"bgp"===e.where.type&&a.isomorphic(e.delete,e.where.patterns)&&(delete n[0].where,n[0].updateType="deletewhere"):(delete n[0].insert,delete n[0].where,e.delete.some((e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType))?n[0].updateType="deletewhere":n[0].updateType="delete"):(n[0].updateType="insert",delete n[0].delete,delete n[0].where),{prefixes:{},type:"update",updates:n}}(e);case p.LOAD:return function(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];return e.destination&&(t[0].destination=e.destination),{prefixes:{},type:"update",updates:t}}(e);case p.CLEAR:return function(e){return j(e,"clear")}(e);case p.CREATE:return function(e){return j(e,"create")}(e);case p.DROP:return function(e){return j(e,"drop")}(e);case p.ADD:return function(e){return S(e,"add")}(e);case p.MOVE:return function(e){return S(e,"move")}(e);case p.COPY:return function(e){return S(e,"copy")}(e)}throw new Error(`Unknown Operation type ${e.type}`)}function g(e){switch(e.expressionType){case c.AGGREGATE:return function(e){const t={expression:g(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};return e.separator&&(t.separator=e.separator),t}(e);case c.EXISTENCE:return function(e){return{type:"operation",operator:e.not?"notexists":"exists",args:o.default.flatten([h(e.input)])}}(e);case c.NAMED:return function(e){return{type:"functionCall",function:e.name,args:e.args.map(g)}}(e);case c.OPERATOR:return function(e){if("desc"===e.operator){return{expression:g(e.args[0]),descending:!0}}const t={type:"operation",operator:e.operator,args:e.args.map(g)};return"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)])),t}(e);case c.TERM:return function(e){return e.term}(e);case c.WILDCARD:return function(e){return e.wildcard}(e)}throw new Error(`Unknown Expression Operation type ${e.expressionType}`)}function m(e){switch(e.type){case p.ALT:return function(e){const t=m(e.left),r=m(e.right);return"pathType"in t&&"!"===t.pathType&&"pathType"in r&&"!"===r.pathType?{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:[].concat(t.items,r.items)}]}:{type:"path",pathType:"|",items:[t,r]}}(e);case p.INV:return function(e){if(e.path.type===p.NPS){const t=e.path.iris.map((e=>({type:"path",pathType:"^",items:[e]})));return t.length<=1?{type:"path",pathType:"!",items:t}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t}]}}return{type:"path",pathType:"^",items:[m(e.path)]}}(e);case p.LINK:return function(e){return e.iri}(e);case p.NPS:return function(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}(e);case p.ONE_OR_MORE_PATH:return function(e){return{type:"path",pathType:"+",items:[m(e.path)]}}(e);case p.SEQ:return function(e){return{type:"path",pathType:"/",items:[m(e.left),m(e.right)]}}(e);case p.ZERO_OR_MORE_PATH:return function(e){return{type:"path",pathType:"*",items:[m(e.path)]}}(e);case p.ZERO_OR_ONE_PATH:return function(e){return{type:"path",pathType:"?",items:[m(e.path)]}}(e)}throw new Error(`Unknown Path type ${e.type}`)}function T(e){return n.termToString(e)}function b(e){return e}function E(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function O(e,t){let r=o.default.isSimpleTerm(e)?T(e):e;if("string"==typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map((e=>O(e,t)));else for(let r of Object.keys(e))e[r]=O(e[r],t);return e}function N(e,t){const r={type:"query",prefixes:{}},a=r;let n;t===p.PROJECT?(r.queryType="SELECT",n=e.variables):t===p.ASK?r.queryType="ASK":t===p.DESCRIBE&&(r.queryType="DESCRIBE",n=e.terms);const i=l.extend,u=l.group,c=l.aggregates,d=l.order;y(),l.project=!0;let f=o.default.flatten([h(e.input)]);1===f.length&&"group"===f[0].type&&(f=f[0].patterns),r.where=f;let m={};for(let e of l.aggregates)m[T(e.variable)]=g(e);let b={};for(let e=l.extend.length-1;e>=0;--e){let t=l.extend[e];b[T(t.variable)]=O(g(t.expression),m)}if(l.group.length>0&&(a.group=l.group.map((e=>{let t=T(e);if(b[t]){let r=b[t];return delete b[t],{variable:e,expression:r}}return{expression:e}}))),l.order.length>0&&(a.order=l.order.map(h).map((e=>e.descending?e:{expression:e}))),n&&(a.variables=n.map((e=>{let t=T(e);return b[t]?{variable:e,expression:b[t]}:e})),0===a.variables.length&&(a.variables=[new s.Wildcard])),r.where.length>0&&"filter"===r.where[r.where.length-1].type){const e=r.where[r.where.length-1];v(e,Object.keys(m))&&(a.having=o.default.flatten([O(e.expression,m)]),r.where.splice(-1))}return l.extend=i,l.group=u,l.aggregates=c,l.order=d,{type:"group",patterns:[a]}}function v(e,t){return o.default.isSimpleTerm(e)?t.indexOf(T(e))>=0:Array.isArray(e)?e.some((e=>v(e,t))):e===Object(e)?Object.keys(e).some((r=>v(e[r],t))):t.indexOf(e)>=0}function j(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function S(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function P(e){if(!e)return[];const t={};return e.forEach((e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)})),Object.keys(t).map((e=>""===e?{type:"bgp",triples:t[e].map(E)}:{type:"graph",triples:t[e].map(E),name:t[e][0].graph}))}function w(e,t){if(Array.isArray(e))return e.map((e=>w(e,t)));if(!e.type)return e;if(e.type===p.DELETE_INSERT)return e;if((e.type===p.PATTERN||e.type===p.PATH)&&e.graph)return t[e.graph.value]||(t[e.graph.value]={graph:e.graph,values:[]}),t[e.graph.value].values.push(e),e;const r={},a={},n={};for(let t of Object.keys(e)){const s={};r[t]=w(e[t],s);const i=Object.keys(s);if(i.length>1){let e=R(s[i[0]].values);for(let t=1;t<i.length;++t){const r=R(s[i[t]].values);e=d.createJoin(e,r)}return i.map((e=>delete s[e])),e}if(1===i.length){const e=s[i[0]].graph;a[t]=e,n[e.value]=e}}const s=Object.keys(n);if(s.length>0)if(1===s.length&&e.type!==p.PROJECT)t[s[0]]={graph:n[s[0]],values:[r]};else for(let e of Object.keys(a))a[e].value.length>0&&(r[e]=d.createGraph(r[e],a[e]));return r}function R(e){const t=d.createBgp(e),r=e[0].graph;return 0===r.value.length?t:d.createGraph(t,r)}t.toSparql=function(e,t={}){return new s.Generator(t).stringify(f(e))},t.toSparqlJs=f},11183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(64063),n=r(2892),s=r(90250),i=r(99969),u=r(14101),o=r(9619).Parser,p=s.types;let c,l=new Set,d=0,f=!1;function y(e,t,r){if(l=new Set,d=0,f=t,!e.type)return c.createNop();if("query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");const a=new Set(Object.keys(g(e)).map(c.createTerm.bind(c)));let n;var s;return"query"===e.type?(n=m({type:"group",patterns:e.where||[]}),n=function(e,t,r){const a=e,n=[],s={};if(a.variables=a.variables&&a.variables.map((e=>R(e,s))),a.having=a.having&&a.having.map((e=>R(e,s))),a.order=a.order&&a.order.map((e=>R(e,s))),a.group||Object.keys(s).length>0){const e=Object.keys(s).map((e=>function(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error(`Unexpected input: ${JSON.stringify(e)}`);const r=T(e);return r.variable=t,r}(s[e],c.createTerm(e)))),r=[];if(a.group)for(const e of a.group)if(u.default.isSimpleTerm(e.expression))r.push(e.expression);else{const a="variable"in e?e.variable:O();t=c.createExtend(t,a,T(e.expression)),r.push(a)}t=c.createGroup(t,r,e)}if(a.having)for(let e of a.having)t=c.createFilter(t,T(e));e.values&&(t=c.createJoin(t,w(e)));let i=new Set;if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some((e=>e&&u.default.isWildcard(e))))i=r;else for(let t of e.variables)h(t)||!("variable"in t)?i.add(t):t.variable&&(i.add(t.variable),n.push(t));for(let e of n)t=c.createExtend(t,e.variable,T(e.expression));return a.order&&(t=c.createOrderBy(t,a.order.map((e=>{let t=T(e.expression);return e.descending&&(t=c.createOperatorExpression(p.DESC,[t])),t})))),"SELECT"===e.queryType&&(t=c.createProject(t,Array.from(i))),a.distinct&&(t=c.createDistinct(t)),a.reduced&&(t=c.createReduced(t)),"CONSTRUCT"===e.queryType?t=c.createConstruct(t,e.template.map(N)):"ASK"===e.queryType?t=c.createAsk(t):"DESCRIBE"===e.queryType&&(t=c.createDescribe(t,Array.from(i))),(a.offset||a.limit)&&(t=c.createSlice(t,a.offset,a.limit)),a.from&&(t=c.createFrom(t,a.from.default,a.from.named)),t}(e,n,a)):"update"===e.type&&(n=1===(s=e).updates.length?_(s.updates[0]):c.createCompositeUpdate(s.updates.map(_))),r&&(n=x(n,a)),n}function h(e){return"Variable"===(null==e?void 0:e.termType)}function g(e){let t={};if(h(e))t[n.termToString(e)]=!0,l.add(e.value);else if(null!==(r=e)&&"object"==typeof r)if("bind"===e.type)g(e.expression),Object.assign(t,g(e.variable));else if("SELECT"===e.queryType){let r=g(e.where);for(let a of e.variables)u.default.isWildcard(a)?Object.assign(t,r):a.variable?Object.assign(t,g(a.variable)):Object.assign(t,g(a));if(e.group)for(let r of e.group)Object.assign(t,g(r))}else for(let r of Object.keys(e))Object.assign(t,g(e[r]));var r;return t}function m(e){let t,r=[],a=[];if("patterns"in e)for(let t of e.patterns)("filter"===t.type?r:a).push(t);if("bgp"===e.type)return function(e){let t=[],r=[];for(let n of e.triples)if("pathType"in n.predicate){let e=E((a=n).subject,b(a.predicate),a.object);for(let a of e)a.type===p.PATH?(t.length>0&&r.push(c.createBgp(t)),t=[],r.push(a)):t.push(a)}else t.push(N(n));var a;return t.length>0&&r.push(c.createBgp(t)),1===r.length?r[0]:r.reduce(((e,t)=>c.createJoin(e,t)))}(e);if("union"===e.type)t=a.map((e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),m(e)))).reduce(((e,t)=>c.createUnion(e,t)));else{if("graph"===e.type)return function(e){let t=m({type:"group",patterns:e.patterns});return t=f?j(t,e.name):c.createGraph(t,e.name),t}(e);if("group"===e.type)t=a.reduce(S,c.createBgp([]));else if("values"===e.type)t=w(e);else{if("query"!==e.type)throw new Error(`Unexpected type: ${e.type}`);t=y(e,f,!1)}}if(r.length>0){let e=r.map((e=>T(e.expression)));e.length>0&&(t=c.createFilter(t,e.reduce(((e,t)=>c.createOperatorExpression("&&",[e,t])))))}return t}function T(e){if(u.default.isSimpleTerm(e)||u.default.isQuad(e))return c.createTermExpression(e);if(u.default.isWildcard(e))return c.createWildcardExpression();if("aggregation"in e)return c.createAggregateExpression(e.aggregation,T(e.expression),e.distinct,e.separator);if("function"in e)return c.createNamedExpression(e.function,e.args.map(T));if("operator"in e)return"exists"===e.operator||"notexists"===e.operator?c.createExistenceExpression("notexists"===e.operator,m(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),c.createOperatorExpression(e.operator,e.args.map(T)));throw new Error(`Unknown expression: ${JSON.stringify(e)}`)}function b(e){if(u.default.isSimpleTerm(e)){if("NamedNode"===e.termType)return c.createLink(e);throw new Error(`Path predicate should be a NamedNode, got ${JSON.stringify(e)}`)}if("^"===e.pathType)return c.createInv(b(e.items[0]));if("!"===e.pathType){let t,r=[],a=[];t="pathType"in e.items[0]&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(u.default.isSimpleTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error(`Unexpected item: ${JSON.stringify(e)}`);a.push(e.items[0])}let n=c.createNps(r),s=c.createInv(c.createNps(a));return 0===a.length?n:0===r.length?s:c.createAlt(n,s)}if("/"===e.pathType)return e.items.map(b).reduce(((e,t)=>c.createSeq(e,t)));if("|"===e.pathType)return e.items.map(b).reduce(((e,t)=>c.createAlt(e,t)));if("*"===e.pathType)return c.createZeroOrMorePath(b(e.items[0]));if("+"===e.pathType)return c.createOneOrMorePath(b(e.items[0]));if("?"===e.pathType)return c.createZeroOrOnePath(b(e.items[0]));throw new Error(`Unable to translate path expression ${JSON.stringify(e)}`)}function E(e,t,r){if(t.type===p.LINK)return[c.createPattern(e,t.iri,r)];if(t.type===p.INV)return E(r,t.path,e);if(t.type===p.SEQ){let a=O(),n=E(e,t.left,a),s=E(a,t.right,r);return n.concat(s)}return[c.createPath(e,t,r)]}function O(){let e="?var"+d++;return l.has(e)?O():(l.add(e),c.createTerm(e))}function N(e){return c.createPattern(e.subject,e.predicate,e.object,e.graph)}t.default=function(e,t){let r;if(t=t||{},c=new i.default(t.dataFactory),"string"==typeof e){let a=new o(t);a._resetBlanks(),r=a.parse(e)}else r=e;return y(r,t.quads,t.blankToVariable)};let v=Object.values(p);function j(e,t,r){if(e.type===p.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");const t=e;e=j(t.input,t.name)}else if(e.type===p.BGP)e.patterns=e.patterns.map((e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t),e)));else if(e.type===p.PATH){const a=e;r&&(a.subject.equals(t)&&(a.subject=r),a.object.equals(t)&&(a.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t)}else if(e.type!==p.PROJECT||r)if(e.type!==p.EXTEND||r)for(let a of Object.keys(e))Array.isArray(e[a])?e[a]=e[a].map((e=>j(e,t,r))):v.indexOf(e[a].type)>=0?e[a]=j(e[a],t,r):r&&h(e[a])&&e[a].equals(t)&&(e[a]=r);else{const a=e;a.variable.equals(t)&&(r=O()),a.input=j(a.input,t,r)}else{const a=e;a.variables.some((e=>e.equals(t)))||(r=O()),a.input=j(a.input,t,r)}return e}function S(e,t){if("optional"===t.type){const r=m({type:"group",patterns:t.patterns});if(r.type===p.FILTER){const t=r;e=c.createLeftJoin(e,t.input,t.expression)}else e=c.createLeftJoin(e,r)}else if("minus"===t.type){const r=m({type:"group",patterns:t.patterns});e=c.createMinus(e,r)}else if("bind"===t.type)e=c.createExtend(e,t.variable,T(t.expression));else if("service"===t.type){const r={type:"group",patterns:t.patterns};e=P(e,c.createService(m(r),t.name,t.silent))}else e=P(e,m(t));return e}function P(e,t){return e.type===p.BGP&&t.type===p.BGP?e=c.createBgp([].concat(e.patterns,t.patterns)):e.type===p.BGP&&0===e.patterns.length?e=t:t.type===p.BGP&&0===t.patterns.length||(e=c.createJoin(e,t)),e}function w(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(c.createTerm.bind(c)),r=e.values.map((e=>{let t=Object.keys(e);t=t.filter((t=>void 0!==e[t]));let r={};for(let a of t)r[a]=e[a];return r}));return c.createValues(t,r)}function R(e,t){if("type"in e&&"aggregate"===e.type){let r,s=!1;for(let n of Object.keys(t))if(a(t[n],e)){r=c.createTerm(n),s=!0;break}return s||(r=O(),t[n.termToString(r)]=e),r}return"expression"in e&&e.expression?Object.assign(Object.assign({},e),{expression:R(e.expression,t)}):"args"in e&&e.args?Object.assign(Object.assign({},e),{args:e.args.map((e=>R(e,t)))}):e}function _(e){if("type"in e){if("load"===e.type)return function(e){return c.createLoad(e.source,e.destination,e.silent)}(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return function(e){let t;switch(t=u.default.isSimpleTerm(e.graph)?e.graph:e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name,e.type){case"clear":return c.createClear(t,e.silent);case"create":return c.createCreate(t,e.silent);case"drop":return c.createDrop(t,e.silent)}}(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return function(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return c.createCopy(t,r,e.silent);case"move":return c.createMove(t,r,e.silent);case"add":return c.createAdd(t,r,e.silent)}}(e)}else if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return function(e){if(!f)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],a=[];if(e.delete&&(r=u.default.flatten(e.delete.map((t=>A(t,e.graph))))),e.insert&&(a=u.default.flatten(e.insert.map((t=>A(t,e.graph))))),e.where&&e.where.length>0){t=m({type:"group",patterns:e.where});const r=e.using;r?t=c.createFrom(t,r.default,r.named):e.graph&&(t=j(t,e.graph))}else"deletewhere"===e.updateType&&r.length>0&&(t=c.createBgp(r));return c.createDeleteInsert(r.length>0?r:void 0,a.length>0?a:void 0,t)}(e);throw new Error(`Unknown update type ${JSON.stringify(e)}`)}function A(e,t){let r=t;"graph"===e.type&&(r=e.name);let a=e.triples;return r&&(a=a.map((e=>Object.assign(e,{graph:r})))),a.map(N)}function x(e,t){const r={},a=Array.from(t).reduce(((e,t)=>(e[t.value]=!0,e)),{});return u.default.mapOperation(e,{[s.types.DELETE_INSERT]:e=>({result:e,recurse:!1}),[s.types.PATH]:(e,t)=>({result:t.createPath(n(e.subject),e.predicate,n(e.object),n(e.graph)),recurse:!1}),[s.types.PATTERN]:(e,t)=>({result:t.createPattern(n(e.subject),n(e.predicate),n(e.object),n(e.graph)),recurse:!1}),[s.types.CONSTRUCT]:e=>({result:c.createConstruct(x(e.input,t),e.template),recurse:!1})});function n(e){if("BlankNode"===e.termType){let t=r[e.value];return t||(t=u.default.createUniqueVariable(e.value,a,c.dataFactory),a[t.value]=!0,r[e.value]=t),t}return e}}},14101:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(90250),n=r(99969);class s{static flatten(e){return Array.prototype.concat(...e).filter((e=>e))}static objectify(e){if(e.termType){if("Quad"===e.termType)return{type:"pattern",termType:"Quad",value:"",subject:s.objectify(e.subject),predicate:s.objectify(e.predicate),object:s.objectify(e.object),graph:s.objectify(e.graph)};{let t={termType:e.termType,value:e.value};return e.language&&(t.language=e.language),e.datatype&&(t.datatype=s.objectify(e.datatype)),t}}if(Array.isArray(e))return e.map((e=>s.objectify(e)));if(e===Object(e)){let t={};for(let r of Object.keys(e))t[r]=s.objectify(e[r]);return t}return e}static inScopeVariables(e){const t=[];function r(e){t.find((t=>e.value===t.value))||t.push(e)}function n(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&n(e.subject),"Quad"===e.predicate.termType&&n(e.predicate),"Quad"===e.object.termType&&n(e.object),"Quad"===e.graph.termType&&n(e.graph)}return s.recurseOperation(e,{[a.types.EXPRESSION]:e=>{let t=e;return t.expressionType===a.expressionTypes.AGGREGATE&&t.variable&&r(t.variable),!0},[a.types.EXTEND]:e=>(r(e.variable),!0),[a.types.GRAPH]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[a.types.GROUP]:e=>(e.variables.forEach(r),!0),[a.types.PATH]:e=>{let t=e;return"Variable"===t.subject.termType&&r(t.subject),"Variable"===t.object.termType&&r(t.object),"Variable"===t.graph.termType&&r(t.graph),"Quad"===t.subject.termType&&n(t.subject),"Quad"===t.object.termType&&n(t.object),"Quad"===t.graph.termType&&n(t.graph),!0},[a.types.PATTERN]:e=>(n(e),!0),[a.types.PROJECT]:e=>(e.variables.forEach(r),!1),[a.types.SERVICE]:e=>{let t=e;return"Variable"===t.name.termType&&r(t.name),!0},[a.types.VALUES]:e=>(e.variables.forEach(r),!0)}),t}static recurseOperation(e,t){let r=e,n=!0;if(t[e.type]&&(n=t[e.type](e)),!n)return;let i=e=>s.recurseOperation(e,t);switch(r.type){case a.types.ALT:const e=r;i(e.left),i(e.right);break;case a.types.ASK:i(r.input);break;case a.types.BGP:r.patterns.forEach(i);break;case a.types.CONSTRUCT:const t=r;i(t.input),t.template.map(i);break;case a.types.DESCRIBE:case a.types.DISTINCT:i(r.input);break;case a.types.EXPRESSION:const n=r;n.expressionType===a.expressionTypes.EXISTENCE&&i(n.input);break;case a.types.EXTEND:const s=r;i(s.input),i(s.expression);break;case a.types.FILTER:const u=r;i(u.input),i(u.expression);break;case a.types.FROM:case a.types.GRAPH:i(r.input);break;case a.types.GROUP:const o=r;i(o.input),o.aggregates.forEach(i);break;case a.types.INV:i(r.path);break;case a.types.JOIN:const p=r;i(p.left),i(p.right);break;case a.types.LEFT_JOIN:const c=r;i(c.left),i(c.right),c.expression&&i(c.expression);break;case a.types.LINK:break;case a.types.MINUS:const l=r;i(l.left),i(l.right);break;case a.types.NOP:case a.types.NPS:break;case a.types.ONE_OR_MORE_PATH:i(r.path);break;case a.types.ORDER_BY:const d=r;i(d.input),d.expressions.forEach(i);break;case a.types.PATH:i(r.predicate);break;case a.types.PATTERN:break;case a.types.PROJECT:case a.types.REDUCED:i(r.input);break;case a.types.SEQ:const f=r;i(f.left),i(f.right);break;case a.types.SERVICE:case a.types.SLICE:i(r.input);break;case a.types.UNION:const y=r;i(y.left),i(y.right);break;case a.types.VALUES:break;case a.types.ZERO_OR_MORE_PATH:case a.types.ZERO_OR_ONE_PATH:i(r.path);break;case a.types.COMPOSITE_UPDATE:r.updates.forEach((e=>i(e)));break;case a.types.DELETE_INSERT:const h=r;h.delete&&h.delete.forEach((e=>i(e))),h.insert&&h.insert.forEach((e=>i(e))),h.where&&i(h.where);break;case a.types.LOAD:case a.types.CLEAR:case a.types.CREATE:case a.types.DROP:case a.types.ADD:case a.types.MOVE:case a.types.COPY:break;default:throw new Error(`Unknown Operation type ${r.type}`)}}static mapOperation(e,t,r){let i=e,u=!0;if(r=r||new n.default,t[e.type]&&({result:i,recurse:u}=t[e.type](e,r)),!u)return i;let o=e=>s.mapOperation(e,t,r);switch(i.type){case a.types.ALT:const e=i;return r.createAlt(o(e.left),o(e.right));case a.types.ASK:const n=i;return r.createAsk(o(n.input));case a.types.BGP:const u=i;return r.createBgp(u.patterns.map(o));case a.types.CONSTRUCT:const p=i;return r.createConstruct(o(p.input),p.template.map(o));case a.types.DESCRIBE:const c=i;return r.createDescribe(o(c.input),c.terms);case a.types.DISTINCT:const l=i;return r.createDistinct(o(l.input));case a.types.EXPRESSION:const d=i;return s.mapExpression(d,t,r);case a.types.EXTEND:const f=i;return r.createExtend(o(f.input),f.variable,o(f.expression));case a.types.FILTER:const y=i;return r.createFilter(o(y.input),o(y.expression));case a.types.FROM:const h=i;return r.createFrom(o(h.input),[].concat(h.default),[].concat(h.named));case a.types.GRAPH:const g=i;return r.createGraph(o(g.input),g.name);case a.types.GROUP:const m=i;return r.createGroup(o(m.input),[].concat(m.variables),m.aggregates.map(o));case a.types.INV:const T=i;return r.createInv(o(T.path));case a.types.JOIN:const b=i;return r.createJoin(o(b.left),o(b.right));case a.types.LEFT_JOIN:const E=i;return r.createLeftJoin(o(E.left),o(E.right),E.expression?o(E.expression):void 0);case a.types.LINK:const O=i;return r.createLink(O.iri);case a.types.MINUS:const N=i;return r.createMinus(o(N.left),o(N.right));case a.types.NOP:return r.createNop();case a.types.NPS:const v=i;return r.createNps([].concat(v.iris));case a.types.ONE_OR_MORE_PATH:const j=i;return r.createOneOrMorePath(o(j.path));case a.types.ORDER_BY:const S=i;return r.createOrderBy(o(S.input),S.expressions.map(o));case a.types.PATH:const P=i;return r.createPath(P.subject,o(P.predicate),P.object,P.graph);case a.types.PATTERN:const w=i;return r.createPattern(w.subject,w.predicate,w.object,w.graph);case a.types.PROJECT:const R=i;return r.createProject(o(R.input),[].concat(R.variables));case a.types.REDUCED:const _=i;return r.createReduced(o(_.input));case a.types.SEQ:const A=i;return r.createSeq(o(A.left),o(A.right));case a.types.SERVICE:const x=i;return r.createService(o(x.input),x.name,x.silent);case a.types.SLICE:const L=i;return r.createSlice(o(L.input),L.start,L.length);case a.types.UNION:const D=i;return r.createUnion(o(D.left),o(D.right));case a.types.VALUES:const k=i;return r.createValues([].concat(k.variables),k.bindings.map((e=>Object.assign({},e))));case a.types.ZERO_OR_MORE_PATH:const I=i;return r.createZeroOrMorePath(o(I.path));case a.types.ZERO_OR_ONE_PATH:const C=i;return r.createZeroOrOnePath(o(C.path));case a.types.COMPOSITE_UPDATE:const G=i;return r.createCompositeUpdate(G.updates.map(o));case a.types.DELETE_INSERT:const M=i;return r.createDeleteInsert(M.delete?M.delete.map(o):void 0,M.insert?M.insert.map(o):void 0,M.where?o(M.where):void 0);case a.types.LOAD:const q=i;return r.createLoad(q.source,q.destination,q.silent);case a.types.CLEAR:const Q=i;return r.createClear(Q.source,Q.silent);case a.types.CREATE:const B=i;return r.createCreate(B.source,B.silent);case a.types.DROP:const V=i;return r.createDrop(V.source,V.silent);case a.types.ADD:const U=i;return r.createAdd(U.source,U.destination);case a.types.MOVE:const F=i;return r.createMove(F.source,F.destination);case a.types.COPY:const J=i;return r.createCopy(J.source,J.destination);default:throw new Error(`Unknown Operation type ${i.type}`)}}static mapExpression(e,t,r){let n=e=>s.mapOperation(e,t,r);switch(e.expressionType){case a.expressionTypes.AGGREGATE:if(e.variable){const t=e;return r.createBoundAggregate(t.variable,t.aggregator,n(t.expression),t.distinct,t.separator)}const t=e;return r.createAggregateExpression(t.aggregator,n(t.expression),t.distinct,t.separator);case a.expressionTypes.EXISTENCE:const s=e;return r.createExistenceExpression(s.not,n(s.input));case a.expressionTypes.NAMED:const i=e;return r.createNamedExpression(i.name,i.args.map(n));case a.expressionTypes.OPERATOR:const u=e;return r.createOperatorExpression(u.operator,u.args.map(n));case a.expressionTypes.TERM:const o=e;return r.createTermExpression(o.term);case a.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error(`Unknown Expression type ${e.expressionType}`)}}static createUniqueVariable(e,t,r){let a=0,n=e;for(;t[n];)n=`${e}${a++}`;return r.variable(n)}static isSimpleTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isQuad(e){return"Quad"===e.termType}static isWildcard(e){return"Wildcard"===e.termType}}t.default=s},16736:function(e,t,r){"use strict";var a=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,a){void 0===a&&(a=r),e[a]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||a(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(10486),t),n(r(36386),t),n(r(63054),t),n(r(5398),t),n(r(9605),t),n(r(58350),t),n(r(17065),t)},10486:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0,t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},36386:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const a=r(10486),n=r(63054),s=r(5398),i=r(9605),u=r(58350),o=r(17065);let p=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||`df_${p++}_`}namedNode(e){return new i.NamedNode(e)}blankNode(e){return new a.BlankNode(e||`${this.blankNodePrefix}${this.blankNodeCounter++}`)}literal(e,t){return new s.Literal(e,t)}variable(e){return new o.Variable(e)}defaultGraph(){return n.DefaultGraph.INSTANCE}quad(e,t,r,a){return new u.Quad(e,t,r,a||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(s.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},63054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},5398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const a=r(9605);class n{constructor(e,t){this.termType="Literal",this.value=e,"string"==typeof t?(this.language=t,this.datatype=n.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=n.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}t.Literal=n,n.RDF_LANGUAGE_STRING=new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),n.XSD_STRING=new a.NamedNode("http://www.w3.org/2001/XMLSchema#string")},9605:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0,t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},58350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0,t.Quad=class{constructor(e,t,r,a){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=a}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},17065:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0,t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},2892:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const a=r(67249);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return a.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return a.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return a.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return a.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return a.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return a.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return a.termToString}})},67249:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const a=new(r(16736).DataFactory);function n(e){if(e)switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return`<<${n(e.subject)} ${n(e.predicate)} ${n(e.object)}${"DefaultGraph"===e.graph.termType?"":" "+n(e.graph)}>>`;case"Variable":return"?"+e.value;case"DefaultGraph":return e.value}}function s(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function i(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function u(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function o(e,t){if(t=t||a,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=u(e),a=t.namedNode(i(e));return t.literal(s(e),r||a);case"<":default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),a=[];let n=0,s=0;for(let t=0;t<r.length;t++){const i=r[t];if("<"===i&&n++,">"===i){if(0===n)throw new Error("Found closing tag without opening tag in "+e);n--}" "===i&&0===n&&(a.push(r.slice(s,t)),s=t+1)}if(0!==n)throw new Error("Found opening tag without closing tag in "+e);if(a.push(r.slice(s,r.length)),3!==a.length&&4!==a.length)throw new Error("Nested quad syntax error "+e);return t.quad(o(a[0]),o(a[1]),o(a[2]),a[3]?o(a[3]):void 0)}return t.namedNode(e)}}t.termToString=n,t.getLiteralValue=s,t.getLiteralType=i,t.getLiteralLanguage=u,t.stringToTerm=o,t.quadToStringQuad=function(e){return{subject:n(e.subject),predicate:n(e.predicate),object:n(e.object),graph:n(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||a).quad(o(e.subject,t),o(e.predicate,t),o(e.object,t),o(e.graph,t))}}}]);